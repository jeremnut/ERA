{"status":{},"contains_secrets":true,"product_version":"3.3.1","spec":{"description":"Web Server for ERA repository.\nObjective to hold all external ressources for ERA operations \n- Sources used to build custom image\n- Iso\n- Scripts (pre \/ post)\nBrowse Directory\nSFTP \/ SCP \/ FTP to transfer the sources\nhttp:\/ip\/share","resources":{"client_attrs":{},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"91627968_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"f5ddf3cc_runbook","main_task_local_reference":{"kind":"app_task","name":"91627968_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"de1b4d0a_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"d00b64a0_runbook","main_task_local_reference":{"kind":"app_task","name":"de1b4d0a_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"71423780_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"0f033308_runbook","main_task_local_reference":{"kind":"app_task","name":"71423780_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"457bd9dc_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"fbcbe755_runbook","main_task_local_reference":{"kind":"app_task","name":"457bd9dc_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"16f066c1_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"a342d5e9_runbook","main_task_local_reference":{"kind":"app_task","name":"16f066c1_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"Service1","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[{"description":"","type":"fragment","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"vm_repoweb"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"269a9eb9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"0a8b47c1_runbook","main_task_local_reference":{"kind":"app_task","name":"269a9eb9_dag"},"variable_list":[]},"name":"pre_action_create"},{"description":"","type":"fragment","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"vm_repoweb"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"459ab5b0_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"e511c4bb_runbook","main_task_local_reference":{"kind":"app_task","name":"459ab5b0_dag"},"variable_list":[]},"name":"post_action_delete"}],"type":"AHV_VM","name":"vm_repoweb","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"cred_root"}},"os_type":"Linux","create_spec":{"name":"era-wrepo-dev","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"006abae5-83ff-425e-b8dc-a015bd5edb58"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":null,"power_state":"ON","type":"","account_uuid":"6639980a-52b3-4eb5-b127-5272c9ede582","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"M-RLINUX84-MGMT","uuid":"bd253d57-cafa-4091-91c6-764312bb6e13"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":{"kind":"image","type":"","name":"DISK-MGMT-80GIB","uuid":"4583c3c4-e6ec-4c01-80b2-536852680391"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"root","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"JzVKUR1g0+X2nh3YShVZgRltqTyBoXCCRQdbI\/jPCh096DDWYPXToZ9j:utf-8"},"name":"cred_root","cred_class":"static"},{"username":"webuser01","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"LllswT3U5c7lhoG1wkjaOSNEFrwadP+y8qwvQk+Zqh6RQvLgfyWWwuE3:utf-8"},"name":"cred_webuser01","cred_class":"static"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"Service1"}],"name":"Package1","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package1"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"OsLinuxConfiguration"},{"kind":"app_task","name":"OsConfigureStorage"},{"kind":"app_task","name":"ConfigureUsersAndGroups"},{"kind":"app_task","name":"InstallHttpd"},{"kind":"app_task","name":"ConfigureHttp"}],"name":"bef6ae89_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"OsLinuxConfiguration"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OsConfigureStorage"}},{"from_task_reference":{"kind":"app_task","name":"OsConfigureStorage"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ConfigureUsersAndGroups"}},{"from_task_reference":{"kind":"app_task","name":"ConfigureUsersAndGroups"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"InstallHttpd"}},{"from_task_reference":{"kind":"app_task","name":"InstallHttpd"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ConfigureHttp"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OsLinuxConfiguration","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nfunction_set_security() {\n    sed -i s\/^SELINUX=.*$\/SELINUX=disabled\/ \/etc\/selinux\/config\n    setenforce 0\n    r_set_security=$(getenforce)\n    if [ $r_set_security=\"Permissive\" ]; \n        then\n            touch \/tmp\/01-web-init.log\n            echo \"###############################\" > \/tmp\/01-web-init.log\n            echo \"#           init              #\" >> \/tmp\/01-web-init.log\n            echo \"###############################\" >> \/tmp\/01-web-init.log\n            echo \"The variable selinux is fixed to $r_set_security\" >> \/tmp\/01-web-init.log\n            return 1\n        else\n            echo \"security linux not configured correctly, please check manualy\"\n            exit 1\n    fi\n}\n\nfunction_set_dns() {    \n    rm -rf \/etc\/resolv.conf\n    touch \/etc\/resolv.conf\n    echo \"#file configured using customer params\" > \/etc\/resolv.conf\n    echo \"search @@{MyDnsDomain}@@\" >> \/etc\/resolv.conf\n    echo \"nameserver @@{dns1}@@\" >> \/etc\/resolv.conf\n    echo \"nameserver @@{dns2}@@\" >> \/etc\/resolv.conf\n\n    hostnamectl set-hostname '@@{name}@@'\n\trm -rf \/etc\/hosts\n\techo -e '127.0.0.1       localhost localhost.localdomain localhost4 localhost4.localdomain4\\n@@{address}@@  @@{name}@@  @@{name}@@.@@{MyDnsDomain}@@' >> \/etc\/hosts\n    if grep -q customer \"\/etc\/resolv.conf\"; \n        then\n            touch \/tmp\/01-web-setDns.log\n            echo \"###############################\" > \/tmp\/01-web-setDns.log\n            echo \"#           dns               #\" >> \/tmp\/01-web-setDns.log\n            echo \"###############################\" >> \/tmp\/01-web-setDns.log\n            echo \"The resolv.conf file is properly configured\" >> \/tmp\/01-web-setDns.log\n            return 1\n        else\n            echo \"The resolv.conf file is not configured properly configured\"\n            exit 1\n    fi\n}\n\nfunction_set_time() {\n    dnf install chrony -y\n    rm -rf \/etc\/chrony.conf\n    touch \/etc\/chrony.conf\n    echo \"#file configured using customer params\" > \/etc\/chrony.conf\n    echo \"#time servers\" >> \/etc\/chrony.conf\n    echo \"server @@{ntp1}@@ iburst\" >> \/etc\/chrony.conf\n    echo \"server @@{dns2}@@ iburst\" >> \/etc\/chrony.conf\n    echo \"\" >> \/etc\/chrony.conf\n    echo \"# To avoid changes being made to your computer's gain\/loss compensation\" >> \/etc\/chrony.conf\n    echo \"# when the measurement history is too erratic, you might want to enable\" >> \/etc\/chrony.conf\n    echo \"# one of the following lines.  The first seems good with servers on the\" >> \/etc\/chrony.conf\n    echo \"# Internet, the second seems OK for a LAN environment.\" >> \/etc\/chrony.conf\n    echo \"maxupdateskew 100\" >> \/etc\/chrony.conf\n    echo \"\" >> \/etc\/chrony.conf\n    echo \"# Chrony likes to keep information about your computer's clock in files.\" >> \/etc\/chrony.conf\n    echo \"# The 'driftfile' stores the computer's clock gain\/loss rate in parts\" >> \/etc\/chrony.conf\n    echo \"# per million.  When chronyd starts, the system clock can be tuned\" >> \/etc\/chrony.conf\n    echo \"# immediately so that it doesn't gain or lose any more time.  You\" >> \/etc\/chrony.conf\n    echo \"# generally want this, so it is uncommented.\" >> \/etc\/chrony.conf\n    echo \"driftfile \/var\/lib\/chrony\/drift\" >> \/etc\/chrony.conf\n    if grep -q customer \"\/etc\/chrony.conf\"; \n        then\n            touch \/tmp\/01-web-setTime.log\n            echo \"###############################\" > \/tmp\/01-web-setTime.log\n            echo \"#           Time               #\" >> \/tmp\/01-web-setTime.log\n            echo \"###############################\" >> \/tmp\/01-web-setTime.log\n            echo \"The chrony.conf file is properly configured\" >> \/tmp\/01-web-setTime.log\n            systemctl start chronyd\n            systemctl enable chronyd \n            return 1\n        else\n            echo \"The chrony.conf file is not configured properly configured\"\n            exit 1\n    fi\n}\n\nfunction_set_firewall() {\n    systemctl stop firewalld\n    systemctl disable firewalld\n    touch \/tmp\/01-web-firewall.log\n    echo \"###############################\" > \/tmp\/01-web-firewall.log\n    echo \"#        Firewall             #\" >> \/tmp\/01-web-firewall.log\n    echo \"###############################\" >> \/tmp\/01-web-firewall.log\n    echo \"The firewall is disabled and is properly configured\" >> \/tmp\/01-web-firewall.log\n}\n\nmain() {\n        echo \"Configuration Security OS\"\n            if [[ -f \"\/tmp\/01-web-init.log\" ]]\n                then\n                    echo \"web Init log File is found we don't change it\"\n                    echo \"$(cat \/etc\/selinux\/config)\"\n                    echo \"------------------------------------------------------------------\"\n            else\n                function_set_security\n                echo \"content selinux\"\n                echo \"$(cat \/etc\/selinux\/config)\"\n                echo \"------------------------------------------------------------------\"\n            fi\n        echo \"Configuration Param System OS\"\n            if [[ -f \"\/tmp\/01-web-system-params.log\" ]]\n                then\n                    echo \"web System Parameters Configured, nothing to change\"\n                    echo \"$(cat \/etc\/sysctl.conf)\"\n                    echo \"$(cat \/etc\/sysconfig\/network)\"\n                    echo \"------------------------------------------------------------------\"\n            else\n                function_set_system_params\n                echo \"$(cat \/etc\/sysctl.conf)\"\n                echo \"$(cat \/etc\/sysconfig\/network)\"\n                echo \"------------------------------------------------------------------\"\n            fi\n        echo \"Configuration DNS customer\"\n            if [[ -f \"\/tmp\/01-web-setDns.log\" ]]\n                then\n                    echo \"web Dns log File is found we do not change it\"\n                    echo \"$(cat \/etc\/resolv.conf)\"\n                    echo \"------------------------------------------------------------------\"\n            else\n                function_set_dns\n                echo \"content resolv.conf\"\n                echo \"$(cat \/etc\/resolv.conf)\"\n                echo \"------------------------------------------------------------------\"\n            fi\n\n        echo \"Configuration NTP customer\"\n            if [[ -f \"\/tmp\/01-web-setTime.log\" ]]\n                then\n                    echo \"web Time log File is found we do not change it\"\n                    echo \"$(cat \/etc\/chrony.conf)\"\n                    echo \"------------------------------------------------------------------\"\n            else\n                function_set_time\n                echo \"content resolv.conf\"\n                echo \"$(cat \/etc\/chrony.conf)\"\n                echo \"------------------------------------------------------------------\"\n            fi\n\n        echo \"Configuration Firewall customer\"\n            if [[ -f \"\/tmp\/01-web-firewall.log\" ]]\n                then\n                    echo \"web Firewalld is disable we do not change it\"\n                    echo \"$(systemctl status firewalld)\"\n                    echo \"------------------------------------------------------------------\"\n            else\n                function_set_firewall\n                echo \"Desactivated Firewalld\"\n                echo \"$(systemctl status firewalld)\"\n                echo \"------------------------------------------------------------------\"\n            fi\nexit 0\n}\nmain","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OsConfigureStorage","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nvgcreate -s 1M -v vg_websrv01 \/dev\/sdb\n#Create Logical Volume\nlvcreate -l100%FREE -v vg_websrv01 -n lv_websrv01\n#Format\nmkfs.ext4 \/dev\/vg_websrv01\/lv_websrv01\n            \ntouch \/tmp\/01-web-storage.log\necho \"###############################\" > \/tmp\/01-web-storage.log\necho \"#          storage            #\" >> \/tmp\/01-web-storage.log\necho \"###############################\" >> \/tmp\/01-web-storage.log\necho \"The storage is configured for webcle are deployed\" >> \/tmp\/01-web-storage.log\nmkdir -p \/websrv01\necho \"\/dev\/vg_websrv01\/lv_websrv01    \/websrv01    ext4     defaults        0 0\" >> \/etc\/fstab\nmount -a\n                mkdir -p \/websrv01\/www\/html\/share\n                #Create Directory for Apps\n                mkdir -p \/websrv01\/www\/html\/share\/oracle\n                mkdir -p \/websrv01\/www\/html\/share\/oracle\/19c\n                mkdir -p \/websrv01\/www\/html\/share\/oracle\/18c\n                mkdir -p \/websrv01\/www\/html\/share\/oracle\/12c\n                mkdir -p \/websrv01\/www\/html\/share\/mssql\n                mkdir -p \/websrv01\/www\/html\/share\/mssql\/2019\n                mkdir -p \/websrv01\/www\/html\/share\/mssql\/2016\n                mkdir -p \/websrv01\/www\/html\/share\/postgresql\n                mkdir -p \/websrv01\/www\/html\/share\/postgresql\/14\n                mkdir -p \/websrv01\/www\/html\/share\/postgresql\/13\n                mkdir -p \/websrv01\/www\/html\/share\/postgresql\/12\n                mkdir -p \/websrv01\/www\/html\/share\/postgresql\/11\n                mkdir -p \/websrv01\/www\/html\/share\/mongodb\n                mkdir -p \/websrv01\/www\/html\/share\/mysql\n                mkdir -p \/websrv01\/www\/html\/share\/mariadb\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ConfigureUsersAndGroups","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#add groups\ngroupadd apache\n#add user webuser01\nuseradd -u 1001 -g apache -d \/home\/'@@{cred_webuser01.username}@@' -s \/bin\/bash '@@{cred_webuser01.username}@@'\necho \"@@{cred_webuser01.username}@@:@@{cred_webuser01.secret}@@\" | chpasswd\necho \"#PGWATCH CONFIG SUDOERS\" >> \/etc\/sudoers\necho \"@@{cred_webuser01.username}@@  ALL=(ALL) NOPASSWD:ALL\" >> \/etc\/sudoers\necho \"session required pam_limits.so\" >> \/etc\/pam.d\/login   \n\n\nchown -R webuser01:apache \/websrv01\/www\nchmod -R 775 \/websrv01\/www\n\ntouch \/tmp\/01-webusers-groups.log\necho \"###############################\" > \/tmp\/01-web-users-groups.log\necho \"#      Users and Groups       #\" >> \/tmp\/01-web-users-groups.log\necho \"###############################\" >> \/tmp\/01-web-users-groups.log\necho \"Users and groups are configured for webcle are deployed\" >> \/tmp\/01-web-users-groups.log\necho \"webuser01 ALL=(ALL) NOPASSWD: ALL\" >> \/etc\/sudoers\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"InstallHttpd","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo dnf install -y epel-release\nsudo dnf install -y wget\nsudo dnf install -y langpacks-en \nsudo dnf install -y glibc-all-langpacks\nsudo dnf install -y httpd \ntouch \/tmp\/01-web-packages.log\necho \"###############################\" > \/tmp\/01-web-packages.log\necho \"#         Packages            #\" >> \/tmp\/01-web-packages.log\necho \"###############################\" >> \/tmp\/01-web-packages.log\necho \"The pre-reqs packages for web are deployed\" >> \/tmp\/01-web-packages.log\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_webuser01"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ConfigureHttp","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo systemctl enable httpd\nsudo systemctl start httpd\n#replace document root\n\nsudo cp \/etc\/httpd\/conf\/httpd.conf \/tmp\/httpd.conf.bak\nsudo sed -i s\/var\/websrv01\/ \/etc\/httpd\/conf\/httpd.conf\ntouch \/tmp\/01-apache-configure.log\nsudo systemctl restart httpd\necho \"###############################\" > \/tmp\/01-apache-configure.log\necho \"#     Apache Configuration    #\" >> \/tmp\/01-apache-configure.log\necho \"###############################\" >> \/tmp\/01-apache-configure.log\necho \"Apache configuration done\" >> \/tmp\/01-apache-configure.log\n    \nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_webuser01"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"59776499_runbook","main_task_local_reference":{"kind":"app_task","name":"bef6ae89_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"84854f2c_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"bcbc2861_runbook","main_task_local_reference":{"kind":"app_task","name":"84854f2c_dag"},"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"4f960e67_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"Package1"}],"substrate_local_reference":{"kind":"app_substrate","name":"vm_repoweb"},"variable_list":[],"description":""}],"environment_reference_list":[],"patch_list":[],"description":"","action_list":[{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"UploadAndCreateWebRepoStructure"}],"name":"f23d65a7_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Service1"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"UploadAndCreateWebRepoStructure","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo dnf install -y git\ncd \/websrv01\/www\/html\ngit clone https:\/\/github.com\/jeremnut\/eraweb.git\nmv eraweb\/* .\nrm -rf eraweb\nrm README.md\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_webuser01"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"7ee3c2a2_runbook","main_task_local_reference":{"kind":"app_task","name":"f23d65a7_dag"},"variable_list":[]},"name":"UploadWebRepo"}],"name":"Default","restore_config_list":[],"snapshot_config_list":[],"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"ntp2","value":"time.google.com","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"ntp1","value":"0.fr.pool.ntp.org","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"dns2","value":"10.42.47.52","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"dns1","value":"10.42.47.51","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyDnsDomain","value":"nutalab.local","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"cred_root"},"type":"USER"},"name":"BP_ERA_REPO_WEB"},"api_version":"3.0","metadata":{"last_update_time":"1636010015370594","kind":"blueprint","spec_version":2,"creation_time":"1635704119252160","categories":{"TemplateType":"Vm"},"name":"BP_ERA_REPO_WEB"}}