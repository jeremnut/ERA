{"status":{},"contains_secrets":true,"product_version":"3.3.1","spec":{"description":"Prepare and customized OS and Oracle pre-deployment operations to have a successfull master for ERA. Prerequisites : One Oracle Master VM image (version 7.9)  One Disk Image for GRID and RDBMS One Disk Image for OCRDG\nInternet acces Use IPAM\n\nORACLE HOME PATH\n\/u02\/app\/oracle\/product\/19.0.0\/dbhome_1\n\nORACLE GI PATH\n\/u01\/app\/grid\/19.0.0\/GI_home\n","resources":{"client_attrs":{"943b25b7_deployment":{"y":209,"x":385}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"a0a21fa6_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"7c38ee45_runbook","main_task_local_reference":{"kind":"app_task","name":"a0a21fa6_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"b8bd6f25_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"30639720_runbook","main_task_local_reference":{"kind":"app_task","name":"b8bd6f25_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"c76a4c77_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"f16764b5_runbook","main_task_local_reference":{"kind":"app_task","name":"c76a4c77_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"48f17257_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"6d6010ef_runbook","main_task_local_reference":{"kind":"app_task","name":"48f17257_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"3b9e9095_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"87a6cdee_runbook","main_task_local_reference":{"kind":"app_task","name":"3b9e9095_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"Oracle19cSiha","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"AHV_VM","name":"AHV_MyOracle19cSiha","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{}}}},"os_type":"Linux","create_spec":{"name":"m-ora193c-siha","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"006abae5-83ff-425e-b8dc-a015bd5edb58"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":32768,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":null,"power_state":"ON","type":"","account_uuid":"6639980a-52b3-4eb5-b127-5272c9ede582","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"M-CENTOS79-ERA-PROD","uuid":"a2954ab8-28f1-4842-8d52-1848ba8b98d4"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":{"kind":"image","type":"","name":"DISK-PROD_ERA-80GIB","uuid":"e310432d-14b4-4bbe-8170-ae8fde71aa72"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":{"kind":"image","type":"","name":"DISK-PROD_ERA-80GIB","uuid":"e310432d-14b4-4bbe-8170-ae8fde71aa72"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":2,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":{"kind":"image","type":"","name":"DISK-PROD_ERA-30GIB","uuid":"1fefd010-d224-4a1a-8c55-24bc378af010"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":3,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"root","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"FdWkDsa0KvKk7sDc4igvMNeBNWeoYsJmTOQGGEznsVCxaC17lDNiTC2q:utf-8"},"name":"os_root","cred_class":"static"},{"username":"grid","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"gW4758I7llv09x837c2n34tSNblJQysBnhJw3Y0L04drfUkxWyc=:utf-8"},"name":"grid_user","cred_class":"static"},{"username":"oracle","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"zO43ok\/r57PUSF5Vl5aGKP8V9OW18EdG9u9tNmpP2+LQXtSbWKM=:utf-8"},"name":"oracle_user","cred_class":"static"},{"username":"node_exporter","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"5mWwj06mxQCxBnwE\/wMW4xME2mccMw4ARWcF9uww\/o5+sIuFd1YzOt42:utf-8"},"name":"cred_node_exporter","cred_class":"static"},{"username":"era","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"cCVnRzGhjh18jxsKMb\/IfrXrR1WonAP7ciFkXKplZ+mJn2fLwioh05ht4n9zApcQPVp0HrD58hA+8Zuq0pva1AKiOFO85xrR3zZfqUww1t0lid5Rge+3oTACSts1RCztifcWHW7GUOYpF2wrvZMMFOyKJNR0OshmzW\/8dvRBlySYmrP7e8QsERQAGetX\/9w\/jRFfD7TBChbhnMWt34N6kpkQAPbwIk\/ruSl5OJLgsyF0Wek5LbVeZNB7QY8JjdUs0JRl4CGv5uj8AFljf5hWb8gq5j8CSefg83xLv+iDAmk3zeqMvBsO3x8+F8yiVDdAiPKNBl7NCOqFs+yotd1\/tdwd9iGXoAISVd9qo4b4BX2Y1M1HSE1Hp9PmUkNeqJDnjXniVjdTRxpsbD6WDCxgDkAywIwxfsNxLQFWBaPGRPkLJpLAW88nfsRnIdxkTKG23aKKsxhpcPjz17JIgMxQ1hHU2wxoiv4RmbDXPpxVx6l2x+hZ+3\/k+0\/8VmsKNHfJI8H9UzoNlCSVWccOV5Moi4o9jczVFeo71ycTFx0m19W1ZDTAMOMITxf9wK8RmMQq8FOPUg8qs7Lq97bOYX4oi61snLaXlTciATBdUlg7Olfc0YLrDF5VfuyLyBDnLOHU+SJLi+UI9vO6GibS9Tpoh34mei94\/vINCN\/ICjats2qJRR48hmpMpr6ozjVi6OCiVOqdc+y7P+q1ShK439M9dy4sFO1pR5u3nkOMzIxV6vgH39x4XqwkPWfoubMPDRi97Z2+QukND8vHLTesbu4323SWf7FqDhw4zMSoc69I3RKZev2nPdo7szUIErHUsf8bqsceBoW6dq1ad0X0wKZymRs5eZXgK89PD5QI2vEzyV8pAi1tJ1s+5ZUiASOmBtOPAFXgIB6dHFZiLeSd3EH2AZTW3QuMw9O6jAOZgUdDU9WU1En3Py8XkFR5lCkzUiijgPPFYU7NbXrLIqNDNYZBXqJshOI0UTLmgIbujjuZLhw\/eP5MQjuDiJCaEHK1loF2IsZ89d6rMupdA5mA1n\/ktYLAgB5NbUBuIrjlo\/y6sdrSfyDgyjxqyRosZHL2uaSOEPv888bpnJdvdhRIGZ9\/4AY2om6zjdP67UySz5kszN8IMT4+Oqa83BrxrNkxaRPKweRl3z\/J4h0GZdanPKISC0U0AppuANXjPQV4yUB7SWpdQ0XOPPnOsFEuYuFPk1OWdeuCSaqgOLqSRtKTTNWaZI1bD6GlGzSmQtXZ6zu1ciR6OuQ\/urKuya0R9qyc3GJGYnn7u5ZBTh4om3V+FYzZMO4ZEPJVIfq8zoogpgypmfGaHoKZH1oVxtTW+ZsNjGNtw8n0UsI\/Kb9aWkA2N985NIVvSZrvHyQnHOHHM4zyADV\/OEXhYcugeLqu972\/r7aadkUHm2yF+eOdmpuUEqMpyD2Very\/NhCxzC4uRQNPvc2JCha2Wnzg5otZjRbGug1iJSDL\/gXrYFFQKg5u+iBchGoJ6AQ6jlHhNyTq8NW\/lqVTaEMbjYpP+XZcmEHQcUCjb36eH3hPuexJWnuHGTZd0Qqf4OLEJkmds2Lr5Hs6f0hasKmVTdIwjsI6xqAX9Jw5o1XnGCRc44xSI8I8R4C29LNvfaSvRu6KpT1KXooYcTaVAabKGFrqSre1RZaM4ADJafAiWXtemSU34vHBLnJhEzbOou2EQA6vfXjDKhK\/lqg5Nq2wLZvtN6mPk+\/NTH+VdGhaB5FqY6gWYZMoVt\/STsqUw9lBoVZjXzIXv62K6tnOgJV6xDPZX24oS08W5TVf2caZGbucfxw3cWNuUDYEf7EniGYUTMHqaJVDCXWpHTdayhWX+smQSJmdult2Rt8zrjoh4AzwNNKAQRYFZX3mAi5WHE7zE\/iuZrE4fQT0j8CIqYQCuNLTHwqxhVrLQkZAb1XCTNf42V4zNVxItQ8x9U47JsnzaXT22aSFgbWDse0VsTRzs13TMZG5nD9znCGujk8CA7MBF4rqKUcz1oIKkRTd421aLMvWDXbRZ8T4E5vVppSGA47gQG8m2TBZINf\/hgHY4PWKvCUUkzKNYmvS70M8wOPAlgplGeNg+AjsHp\/CxhYzWeTTPtuFAfAkkyDF5fH\/m79w+bNs5VMw02bv16IwE\/KwxfUxYMDSEYU9XfAWd5zpbrvD\/omFmrvmtM5kl\/CI8aAUTncKkIkFY39G9hvFKAkD3tOkTriHt11Q\/tIWCSfNfoWok246giPaXiTUHEZjKLh2\/\/8EFGE+i3ZXlyS4454VHkKrSUI=:utf-8"},"name":"cred_era_admin","cred_class":"static"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"Oracle19cSiha"}],"name":"PKG_ORACLE_19_GRID","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"PKG_ORACLE_19_GRID"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"OsConfiguration"},{"kind":"app_task","name":"OsOraclePreReqs"},{"kind":"app_task","name":"OracleEraSpecificRpms"},{"kind":"app_task","name":"OsOracleGroupsAndUsers"},{"kind":"app_task","name":"OsOracleDisksConfiguration"},{"kind":"app_task","name":"OracleGridAppPreparation"},{"kind":"app_task","name":"OracleDbrmsAppPreparation"},{"kind":"app_task","name":"Restart"}],"name":"5fd9359c_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"OsConfiguration"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OsOraclePreReqs"}},{"from_task_reference":{"kind":"app_task","name":"OsOraclePreReqs"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OracleEraSpecificRpms"}},{"from_task_reference":{"kind":"app_task","name":"OracleEraSpecificRpms"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OsOracleGroupsAndUsers"}},{"from_task_reference":{"kind":"app_task","name":"OsOracleGroupsAndUsers"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OsOracleDisksConfiguration"}},{"from_task_reference":{"kind":"app_task","name":"OsOracleDisksConfiguration"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OracleGridAppPreparation"}},{"from_task_reference":{"kind":"app_task","name":"OracleGridAppPreparation"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"OracleDbrmsAppPreparation"}},{"from_task_reference":{"kind":"app_task","name":"OracleDbrmsAppPreparation"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OsConfiguration","attrs":{"exit_status":[],"script":"# 1 - OsConfiguration\n#Disabled firewall Linux\n\n#! \/bin\/bash -x\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE SYSTEM\"\necho \"\"\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISABLED FIREWALLD\"\necho \"\"\nsystemctl stop firewalld\nsystemctl disable firewalld\nsystemctl status firewalld\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISABLED LIBVIRT.D SERVICE \/ DELETE VIRBR0\"\necho \"\"\nsystemctl stop libvirtd.service\nvirsh net-destroy default\nvirsh net-undefine default\nifconfig virbr0 down\nbrctl delbr virbr0\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISABLED SE LINUX\"\necho \"\"\nsudo sed -i 's\/SELINUX=enforcing\/SELINUX=disabled\/g' \/etc\/selinux\/config\nsetenforce 0\ncat \/etc\/selinux\/config\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE X11 FORWARDING\"\necho \"\"\nsudo sed -i 's\/#AddressFamily any\/AddressFamily inet\/g' \/etc\/ssh\/sshd_config\nsudo sed -i 's\/#X11Forwarding yes\/X11Forwarding yes\/g' \/etc\/ssh\/sshd_config\nsudo sed -i 's\/#AllowTcpForwarding yes\/AllowTcpForwarding yes\/g' \/etc\/ssh\/sshd_config\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURED PAM.D\"\necho \"\"\necho 'session    required   \/lib64\/security\/pam_limits.so' >> \/etc\/pam.d\/login\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISABLED AVAHI\"\necho \"\"\nsudo systemctl stop avahi-daemon\nsudo systemctl disable avahi-daemon\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE ZERO CONF\"\necho \"\"\necho 'NOZEROCONF=yes' >> \/etc\/sysconfig\/network\ncat \/etc\/sysconfig\/network\n\necho 'NOZEROCONF=yes' >> \/etc\/sysconfig\/network\ncat \/etc\/sysconfig\/network\n\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE HOSTNAME\"\nhostnamectl set-hostname '@@{name}@@'\nrm -rf \/etc\/hosts\necho -e '127.0.0.1       localhost localhost.localdomain localhost4 localhost4.localdomain4\\n@@{address}@@  @@{name}@@  @@{name}@@.@@{MyDnsDomain}@@' >> \/etc\/hosts\n\n\n#disable huge page kernel\n\nsed -i '\/GRUB_CMDLINE_LINUX\/c\\GRUB_CMDLINE_LINUX=\"crashkernel=auto rd.lvm.lv=centos\/root rd.lvm.lv=centos\/swap rhgb quiet numa=off transparent_hugepage=never\"' \/etc\/default\/grub\ngrub2-mkconfig -o \/boot\/grub2\/grub.cfg\n\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OsOraclePreReqs","attrs":{"exit_status":[],"script":"#Script 2 - OsOraclePreReqs\n#! \/bin\/bash -x\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE SYSCTL RULE\"\necho \"recommanded value for 32Gb\"\necho \"\"\necho '\nfs.file-max = 6815744\nkernel.sem = 250 32000 100 128\nkernel.shmmni = 4096\nkernel.shmall = 4093039\nkernel.shmmax = 16765089792\nkernel.panic_on_oops = 1\nnet.core.rmem_default = 262144\nnet.core.rmem_max = 4194304\nnet.core.wmem_default = 262144\nnet.core.wmem_max = 1048576\nnet.ipv4.conf.all.rp_filter = 2\nnet.ipv4.conf.default.rp_filter = 2\nfs.aio-max-nr = 1048576\nnet.ipv4.ip_local_port_range = 9000 65500\nnet.ipv6.conf.all.disable_ipv6 = 1\nnet.ipv6.conf.default.disable_ipv6 = 1\nvm.swappiness = 1\nvm.overcommit_memory = 1\nvm.dirty_background_ratio = 5\nvm.dirty_ratio = 80\nvm.dirty_expire_centisecs = 500\nvm.dirty_writeback_centisecs = 100\nnet.ipv4.tcp_mtu_probing = 1\nnet.ipv4.tcp_rmem = 4096 87380 536870912\nnet.core.netdev_max_backlog = 250000\nnet.ipv4.tcp_congestion_control = htcp\nnet.core.somaxconn = 65535\nnet.ipv4.tcp_keepalive_intvl = 15\nnet.ipv4.tcp_fin_timeout = 15\nnet.ipv4.tcp_keepalive_probes = 5\nnet.ipv4.tcp_tw_reuse = 1\nnet.ipv4.tcp_max_syn_backlog = 65535\nnet.ipv4.tcp_wmem = 4096 65536 536870912' | sudo tee \/etc\/sysctl.d\/97-oracle-database-sysctl.conf\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CHARCHE SYSTCL.CONF\"\necho \"\"\n\nsysctl --system\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CHARCHE SYSTCL.CONF\"\necho \"\"\n\necho -b \/sbin\/sysctl -a\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE LIMITS\"\necho \"\"\n\nsudo sed -i '\/# End of file\/i \\\n# resource limits for oracle user:\\\noracle   soft   nofile   1024\\\noracle   hard   nofile   65536\\\noracle   soft   nproc    16384\\\noracle   hard   nproc    16384\\\noracle   soft   stack    10240\\\noracle   hard   stack    32768\\\noracle   hard   memlock  134217728\\\noracle   soft   memlock  134217728\\\n\\\n# resource limits for grid user:\\\ngrid   soft   nofile   1024\\\ngrid   hard   nofile   65536\\\ngrid   soft   nproc    16384\\\ngrid   hard   nproc    16384\\\ngrid   soft   stack    10240\\\ngrid   hard   stack    32768\\\ngrid   hard   memlock  134217728\\\ngrid   soft   memlock  134217728' \/etc\/security\/limits.conf\n\ncat \/etc\/security\/limits.conf\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OracleEraSpecificRpms","attrs":{"exit_status":[],"script":"#Script 4 - OracleEraSpecificRpms\n#! \/bin\/bash -x\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : INSTALL OS RPM\"\necho \"\"\n\n\necho '[ol7_developer_EPEL]\nname=Oracle Linux $releasever Developement Packages ($basearch)\nbaseurl=http:\/\/yum.oracle.com\/repo\/OracleLinux\/OL7\/developer_EPEL\/$basearch\/\ngpgkey=file:\/\/\/etc\/pki\/rpm-gpg\/RPM-GPG-KEY-oracle\ngpgcheck=1\nenabled=1' | tee \/etc\/yum.repos.d\/epel-yum-ol7.repo\n\n\n\nyum install deltarpm -y\nyum install binutils -y\nyum install compat-libcap1 -y\nyum install compat-libstdc++-33 -y\nyum install compat-libstdc++-33.i686 -y\nyum install glibc -y\nyum install glibc.i686 -y\nyum install glibc-devel -y\nyum install glibc-devel.i686 -y\nyum install ksh -y\nyum install libaio -y\nyum install libaio.i686 -y\nyum install libaio-devel -y\nyum install libaio-devel.i686 -y\nyum install libX11 -y\nyum install libX11.i686 -y\nyum install libXau -y\nyum install libXau.i686 -y\nyum install libXi -y\nyum install libXi.i686 -y\nyum install libXtst -y\nyum install libXtst.i686 -y\nyum install libgcc -y\nyum install libgcc.i686 -y\nyum install libstdc++ -y\nyum install libstdc++.i686 -y\nyum install libstdc++-devel -y\nyum install libstdc++-devel.i686 -y\nyum install libxcb -y\nyum install libxcb.i686 -y\nyum install make -y\nyum install nfs-utils -y\nyum install net-tools -y\nyum install smartmontools -y\nyum install sysstat -y\nyum install unixODBC -y\nyum install unixODBC-devel -y\nyum install sysfsutils -y\nyum install sg3_utils -y\nyum install lsscsi -y\nyum install zlib-devel -y\nyum install libXp-devel -y\nyum install libXScrnSaver -y\nyum install xorg-x11-server-utils -y\nyum install xorg-x11-server-Xorg -y\nyum install xorg-x11-xauth -y\nyum install xorg-x11-apps -y\nyum install xhost -y\nyum install xterm -y\nyum install xauth -y\nyum install psmisc -y\nyum install gcc-c++ -y\nyum install chrony -y\n\n\n#ASM LIB CONFIGURATION\necho 'Deploy ASM LIB'\nrpm -ivh https:\/\/yum.oracle.com\/repo\/OracleLinux\/OL7\/latest\/x86_64\/getPackage\/oracleasm-support-2.1.11-2.el7.x86_64.rpm\nyum install kmod-oracleasm -y\nrpm -ivh https:\/\/download.oracle.com\/otn_software\/asmlib\/oracleasmlib-2.0.17-1.el8.x86_64.rpm\n\n\n#Package for Nutanix\necho 'Nutanix Package'\nyum install chrony -y\nyum install sshpass -y\nyum install bc -y\nyum install unzip -y\nyum install lvm2 -y\nyum install wget -y\nyum install gcc -y\nyum install rsync -y\nyum install zip -y\nyum install rlwrap -y\nyum install bind-utils -y\nyum install perl-TermReadyKey -y\nyum install xauth -y\nyum install xpdyinfo -y\nyum install vim-enhanced -y\nyum install net-tools -y\nyum install lsof -y\n\n#Install Oracle Python release\n#yum install python-cx_Oracle -y\n\n\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OsOracleGroupsAndUsers","attrs":{"exit_status":[],"script":"#Script 5 - OsOracleGroupsAndUsers\n\n#! \/bin\/bash -x\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : GROUP CONFIGURATION\"\necho \"\"\n\ngroupadd -g 54321 oinstall\ngroupadd -g 54322 dba\ngroupadd -g 54323 oper\ngroupadd -g 54324 backupdba\ngroupadd -g 54325 dgdba\ngroupadd -g 54326 kmdba\ngroupadd -g 54327 racdba\ngroupadd -g 54328 asmadmin\ngroupadd -g 54329 asmdba\ngroupadd -g 54330 asmoper\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : ORACLE_USER_CONFIGURATION\"\necho \"\"\nuseradd -u 1001 -g oinstall -G dba,oper,backupdba,dgdba,kmdba,racdba,asmdba -d \/home\/oracle -s \/bin\/bash oracle\necho \"oracle:oracle\" | chpasswd\necho \"#ORACLE CONFIG SUDOERS\" >> \/etc\/sudoers\necho \"oracle   ALL=(ALL) NOPASSWD:ALL\" >> \/etc\/sudoers\n\n\n#Configure Oracle Profile\necho '# .bash_profile\n# Get the aliases and functions\nif [ -f ~\/.bashrc ]; then\n    . ~\/.bashrc\nfi\n\n# User specific environment and startup programs\n\nPATH=$PATH:$HOME\/.local\/bin:$HOME\/bin\nORACLE_BASE=\/u02\/app\/oracle\nexport ORACLE_BASE\nORACLE_HOME=$ORACLE_BASE\/product\/19.0.0\/dbhome_1\nORA_INVENTORY=\/u01\/app\/oraInventory\nPATH=$PATH:$HOME\/.local\/bin:$HOME\/bin:$ORACLE_HOME\/bin\nexport DISPLAY=localhost:0.0\nexport ORACLE_SID ORACLE_HOME PATH\nalias sqlplus=\"rlwrap sqlplus\"\nalias rman=\"rlwrap rman\"\nalias adrci=\"rlwrap adrci\"' | sudo tee \/home\/oracle\/.bash_profile\n\nsudo chown oracle:oinstall \/home\/oracle\/.bash_profile\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : GRID_USER_CONFIGURATION\"\necho \"\"\nuseradd -u 1002 -g oinstall -G dba,asmdba,asmoper,asmadmin,racdba -d \/home\/grid -s \/bin\/bash grid\necho \"grid:oracle\" | chpasswd\necho \"#GRID CONFIG SUDOERS\" >> \/etc\/sudoers\necho \"grid   ALL=(ALL) NOPASSWD:ALL\" >> \/etc\/sudoers\n\n#Configure Grid Profile\necho '# .bash_profile\n# Get the aliases and functions\nif [ -f ~\/.bashrc ]; then\n    . ~\/.bashrc\nfi\n\n# User specific environment and startup programs\n\nexport ORACLE_SID=+ASM\nexport ORACLE_BASE=\/u01\/app\/grid\nexport ORACLE_HOME=\/u01\/app\/grid\/19.0.0\/GI_home\nORA_INVENTORY=\/u01\/app\/oraInventory\nexport PATH=$ORACLE_HOME\/bin:$PATH\nexport DISPLAY=localhost:0.0\nCVUQDISK_GRP=oinstall; export CVUQDISK_GRP\nalias sqlplus=\"rlwrap sqlplus\"\nalias asmcmd=\"rlwrap asmcmd\"\nalias adrci=\"rlwrap adrci\"' | sudo tee \/home\/grid\/.bash_profile\n\nsudo chown grid:oinstall \/home\/grid\/.bash_profile\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : ERA_USER_CONFIGURATION\"\necho \"\"\n\n#Configuration ERA User\necho \"\"\necho \"Oracle @@{MyOracleVersion}@@ : ERA_USER_CONFIGURATION\"\necho \"\"\nuseradd -u 1003 -d \/home\/'@@{cred_era_admin.username}@@' -s \/bin\/bash '@@{cred_era_admin.username}@@'\necho \"@@{cred_era_admin.username}@@\":\"Nutanix.1\" | chpasswd\necho \"#ERA CONFIG SUDOERS\" >> \/etc\/sudoers\necho \"@@{cred_era_admin.username}@@  ALL=(ALL) NOPASSWD:ALL\" >> \/etc\/sudoers\n\nmkdir \/home\/'@@{cred_era_admin.username}@@'\/.ssh\/\necho '@@{era_PublicKey}@@' >> \/home\/'@@{cred_era_admin.username}@@'\/.ssh\/authorized_keys\n\nchmod 700  \/home\/'@@{cred_era_admin.username}@@'\/.ssh\nchmod 600 \/home\/'@@{cred_era_admin.username}@@'\/.ssh\/authorized_keys\nchown -R '@@{cred_era_admin.username}@@':'@@{cred_era_admin.username}@@' \/home\/'@@{cred_era_admin.username}@@'\/.ssh\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\nexport PGHOST=localhost' | sudo tee \/home\/'@@{cred_era_admin.username}@@'\/.bashrc\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE GRID oraInst.loc\"\necho \"\"\necho '\ninventory_loc=\/u01\/app\/oraInventory\ninst_group=oinstall' | sudo tee \/etc\/oraInst.loc\nchown oracle:oinstall \/etc\/oraInst.loc\nchmod 0664 \/etc\/oraInst.loc\n\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : CONFIGURE PROFILE\"\necho \"\"\necho 'if [ $USER = \"oracle\" ] || [ $USER = \"grid\" ] ; then\nif [ $SHELL = \"\/bin\/ksh\" ]; then             \nulimit -p 16384             \nulimit -n 65536             \nelse             \n     ulimit -u 16384 -n 65536             \nfi             \nfi' | sudo tee -a \/etc\/profile\n\ncat \/etc\/profile\n\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OsOracleDisksConfiguration","attrs":{"exit_status":[],"script":"#Script 6 - OsOracleDisksConfiguration\n#create VG and LV (U02)\n#create PV on 2nd disk\n#! \/bin\/bash -x\n\n#First Disk : GRID \/u01\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISK U01\"\necho \"\"\n\npvreate \/dev\/sdb\n#create VG on secondary disk\nvgcreate vg_u01 \/dev\/sdb\nlvcreate -n lv_u01 -l 100%FREE vg_u01\n\n#format partition in xfs\nmkfs.ext4 \/dev\/vg_u01\/lv_u01\n\n#Configure automount in fstab using UUID\nuuid=$(blkid \/dev\/vg_u01\/lv_u01| sed -n 's\/.*UUID=\\\"\\([^\\\"]*\\)\\\".*\/\\1\/p')\necho \"UUID=$uuid  \/u01 ext4 defaults 0 0\" >> \/etc\/fstab\nmkdir -p \/u01\nmount -a\n\n\n\n#Second Disk : DBRMS \/u02\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISK U02\"\necho \"\"\npvreate \/dev\/sdc\n#create VG on secondary disk\nvgcreate vg_u02 \/dev\/sdc\nlvcreate -n lv_u02 -l 100%FREE vg_u02\n\n#format partition in xfs\nmkfs.ext4 \/dev\/vg_u02\/lv_u02\n\n#Configure automount in fstab using UUID\nuuid=$(blkid \/dev\/vg_u02\/lv_u02| sed -n 's\/.*UUID=\\\"\\([^\\\"]*\\)\\\".*\/\\1\/p')\necho \"UUID=$uuid  \/u02 ext4 defaults 0 0\" >> \/etc\/fstab\nmkdir -p \/u02\nmount -a\n\n#ASMLIB Disks configuration\n\/usr\/sbin\/oracleasm configure -e -u grid -g asmadmin -s y\n\/usr\/sbin\/oracleasm init\nprintf \"o\\nn\\np\\n1\\n\\n\\nw\\n\" | fdisk \/dev\/sdd\n\n#ASM Disks\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DISK OCRDSK\"\necho \"\"\n#\nchown grid:asmadmin \/dev\/sdd\n\n\/usr\/sbin\/oracleasm createdisk OCRDSK \/dev\/sdd1\nchown -R grid:asmadmin \/dev\/oracleasm\/*\n\/usr\/sbin\/oracleasm listdisks\n\/usr\/sbin\/oracleasm configure\n\n#create and assign folder permission for oracle user\nmkdir -p \/u01\/app\/grid\/19.0.0\/GI_home\nchmod -R 775 \/u01\nchown -R grid:oinstall \/u01\n\n\n#create and assign folder permission for oracle user\nmkdir -p \/u02\/app\/oracle\/product\/19.0.0\/dbhome_1\/\nchown -R oracle:oinstall \/u02\nchmod -R 775 \/u02\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OracleGridAppPreparation","attrs":{"exit_status":[],"script":"#7 - OracleGridAppPreparation\n#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY AND CONFIGURE ORACLE GRID\"\necho \"\"\n\nmkdir -m 700 -p ~\/.config\ntouch \/home\/grid\/.config\/gnome-initial-setup-done\necho 'yes' >> \/home\/grid\/.config\/gnome-initial-setup-done\nchown grid:oinstall \/home\/oracle\/.config\/gnome-initial-setup-done\n\n#download Oracle Grid Binaries \ncd \/tmp\n\nif [[ '@@{MyHttpServer}@@' == *https* ]];\nthen\n  echo \"\"\n  echo \"Using https\"\n  echo \"\"\n  wget -no-check-certificate '@@{MyHttpServer}@@'\/'@@{MyOracleGridBinaries}@@'\nelse\n  echo \"\"\n  echo \"Using http\"\n  echo \"\"\n  wget '@@{MyHttpServer}@@'\/'@@{MyOracleGridBinaries}@@'\nfi\n#wget '@@{MyHttpServer}@@'\/'@@{MyOracleGridBinaries}@@'\nsudo unzip '@@{MyOracleGridBinaries}@@' -d '@@{MyOracleGridHome}@@'\nsudo chown -R grid:oinstall \/u01\nsudo chmod -R 775 \/u01\nrm -rf '@@{MyOracleGridBinaries}@@'\nsudo systemctl stop packagekit --now\nsudo yum install -y cd '@@{MyOracleGridHome}@@'\/cv\/rpm\/cvuqdisk-1.0.10-1.rpm\n\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"grid_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"OracleDbrmsAppPreparation","attrs":{"exit_status":[],"script":"#8 - OracleDbrmsAppPreparation\n#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY AND CONFIGURE ORACLE GRID\"\necho \"\"\n\nmkdir -m 700 -p ~\/.config\ntouch \/home\/oracle\/.config\/gnome-initial-setup-done\necho 'yes' >> \/home\/oracle\/.config\/gnome-initial-setup-done\nchown oracle:oinstall \/home\/oracle\/.config\/gnome-initial-setup-done\n\ncd \/tmp\n\nif [[ '@@{MyHttpServer}@@' == *https* ]];\nthen\n  echo \"\"\n  echo \"Using https\"\n  echo \"\"\n  wget -no-check-certificate '@@{MyHttpServer}@@'\/'@@{MyOracleDbrmsBinaries}@@'\nelse\n  echo \"\"\n  echo \"Using http\"\n  echo \"\"\n  wget '@@{MyHttpServer}@@'\/'@@{MyOracleDbrmsBinaries}@@'\nfi\n\nsudo unzip '@@{MyOracleDbrmsBinaries}@@' -d '@@{MyOracleDbrmsHome}@@'\nsudo chown -R oracle:oinstall \/u02\nsudo chmod -R 775 \/u02\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"oracle_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"87a6cdee_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"f6662b47_runbook","main_task_local_reference":{"kind":"app_task","name":"5fd9359c_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"PKG_ORACLE_19_GRID"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"7cdabcef_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"215048ed_runbook","main_task_local_reference":{"kind":"app_task","name":"7cdabcef_dag"},"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"943b25b7_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"PKG_ORACLE_19_GRID"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHV_MyOracle19cSiha"},"variable_list":[],"description":""}],"environment_reference_list":[],"patch_list":[],"description":"","action_list":[{"description":"Launch Cluvfy with Grid User account.\nExtract on .txt file","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Run_Oracle_Cluster_Verify"}],"name":"a4ab55af_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Run_Oracle_Cluster_Verify","attrs":{"exit_status":[],"script":"cd '@@{MyOracleGridHome}@@'\n.\/runcluvfy.sh stage -pre hacfg >> \/home\/grid\/resultcluvfy.txt\ncat \/home\/grid\/resultcluvfy.txt","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"grid_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"35aeb98b_runbook","main_task_local_reference":{"kind":"app_task","name":"a4ab55af_dag"},"variable_list":[]},"name":"1_RUN_CLUVFY"},{"description":"Deploy Unattended GRID\nMode Oracle Restart","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"GridDeploy"},{"kind":"app_task","name":"GridLaunchRootScript"}],"name":"f83ab3cd_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"GridDeploy"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"GridLaunchRootScript"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"GridDeploy","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY ORACLE GRID\"\necho \"\"\n\necho '\n###############################################################################\n## Copyright(c) Oracle Corporation 1998,2019. All rights reserved.           ##\n##                                                                           ##\n## Specify values for the variables listed below to customize                ##\n## your installation.                                                        ##\n##                                                                           ##\n## Each variable is associated with a comment. The comment                   ##\n## can help to populate the variables with the appropriate                   ##\n## values.                                                                   ##\n##                                                                           ##\n## IMPORTANT NOTE: This file contains plain text passwords and               ##\n## should be secured to have read permission only by oracle user             ##\n## or db administrator who owns this installation.                           ##\n##                                                                           ##\n###############################################################################\n\n###############################################################################\n##                                                                           ##\n## Instructions to fill this response file                                   ##\n## To register and configure \"Grid Infrastructure for Cluster\"               ##\n##  - Fill out sections A,B,C,D,E,F and G                                    ##\n##  - Fill out section G if OCR and voting disk should be placed on ASM      ##\n##                                                                           ##\n## To register and configure \"Grid Infrastructure for Standalone server\"     ##\n##  - Fill out sections A,B and G                                            ##\n##                                                                           ##\n## To register software for \"Grid Infrastructure\"                            ##\n##  - Fill out sections A,B and D                                            ##\n##  - Provide the cluster nodes in section D when choosing CRS_SWONLY as     ##\n##    installation option in section A                                       ##\n##                                                                           ##\n## To upgrade clusterware and\/or Automatic storage management of earlier     ##\n## releases                                                                  ##\n##  - Fill out sections A,B,C,D and H                                        ##\n##                                                                           ##\n## To add more nodes to the cluster                                          ##\n##  - Fill out sections A and D                                              ##\n##  - Provide the cluster nodes in section D when choosing CRS_ADDNODE as    ##\n##    installation option in section A                                       ##\n##                                                                           ##\n###############################################################################\n\n#------------------------------------------------------------------------------\n# Do not change the following system generated value. \n#------------------------------------------------------------------------------\noracle.install.responseFileVersion=\/oracle\/install\/rspfmt_crsinstall_response_schema_v19.0.0\n\n###############################################################################\n#                                                                             #\n#                          SECTION A - BASIC                                  #\n#                                                                             #\n###############################################################################\n\n\n#-------------------------------------------------------------------------------\n# Specify the location which holds the inventory files.\n# This is an optional parameter if installing on  \n# Windows based Operating System.\n#-------------------------------------------------------------------------------\nINVENTORY_LOCATION=\/u01\/app\/oraInventory\n\n#-------------------------------------------------------------------------------\n# Specify the installation option.\n# Allowed values: CRS_CONFIG or HA_CONFIG or UPGRADE or CRS_SWONLY or HA_SWONLY\n#   - CRS_CONFIG  : To register home and configure Grid Infrastructure for cluster\n#   - HA_CONFIG   : To register home and configure Grid Infrastructure for stand alone server\n#   - UPGRADE     : To register home and upgrade clusterware software of earlier release\n#   - CRS_SWONLY  : To register Grid Infrastructure Software home (can be configured for cluster \n#                   or stand alone server later)\n#   - HA_SWONLY   : To register Grid Infrastructure Software home (can be configured for stand \n#                   alone server later. This is only supported on Windows.)\n#   - CRS_ADDNODE : To add more nodes to the cluster\n#   - CRS_DELETE_NODE : To delete nodes to the cluster\n#-------------------------------------------------------------------------------\noracle.install.option=HA_CONFIG\n\n#-------------------------------------------------------------------------------\n# Specify the complete path of the Oracle Base.\n#-------------------------------------------------------------------------------\nORACLE_BASE=\/u01\/app\/grid\n\n################################################################################\n#                                                                              #\n#                              SECTION B - GROUPS                              #\n#                                                                              #\n#   The following three groups need to be assigned for all GI installations.   #\n#   OSDBA and OSOPER can be the same or different.  OSASM must be different    #\n#   than the other two.                                                        #\n#   The value to be specified for OSDBA, OSOPER and OSASM group is only for    #\n#   Unix based Operating System.                                               #\n#   These groups are not required for upgrades, as they will be determined     #\n#   from the Oracle home to upgrade.                                           #\n#                                                                              #\n################################################################################\n#-------------------------------------------------------------------------------\n# The OSDBA_GROUP is the OS group which is to be granted SYSDBA privileges.\n#-------------------------------------------------------------------------------\noracle.install.asm.OSDBA=asmdba\n\n#-------------------------------------------------------------------------------\n# The OSOPER_GROUP is the OS group which is to be granted SYSOPER privileges.\n# The value to be specified for OSOPER group is optional.\n# Value should not be provided if configuring Client Cluster - i.e. storageOption=CLIENT_ASM_STORAGE.\n#-------------------------------------------------------------------------------\noracle.install.asm.OSOPER=asmoper\n\n#-------------------------------------------------------------------------------\n# The OSASM_GROUP is the OS group which is to be granted SYSASM privileges. This\n# must be different than the previous two.\n#-------------------------------------------------------------------------------\noracle.install.asm.OSASM=asmadmin\n\n################################################################################\n#                                                                              #\n#                           SECTION C - SCAN                                   #\n#                                                                              #\n################################################################################\n#-------------------------------------------------------------------------------\n# Specify the type of SCAN configuration for the cluster\n# Allowed values : LOCAL_SCAN and SHARED_SCAN\n#-------------------------------------------------------------------------------\noracle.install.crs.config.scanType=LOCAL_SCAN\n\n#-------------------------------------------------------------------------------\n# Applicable only if SHARED_SCAN is being configured for cluster\n# Specify the path to the SCAN client data file\n#-------------------------------------------------------------------------------\noracle.install.crs.config.SCANClientDataFile=\n\n#-------------------------------------------------------------------------------\n# Specify a name for SCAN\n# Applicable if LOCAL_SCAN is being configured for the cluster\n# If you choose to configure the cluster with GNS with Auto assigned Node VIPs(DHCP),then the scanName should be specified in the format of \"SCAN name.Cluster name.GNS sub-domain\"\n#-------------------------------------------------------------------------------\noracle.install.crs.config.gpnp.scanName=\n\n#-------------------------------------------------------------------------------\n# Specify a unused port number for SCAN service\n#-------------------------------------------------------------------------------\n\noracle.install.crs.config.gpnp.scanPort=\n  \n\n################################################################################\n#                                                                              #\n#                           SECTION D - CLUSTER & GNS                         #\n#                                                                              #\n################################################################################\n#-------------------------------------------------------------------------------\n# Specify the required cluster configuration\n# Allowed values: STANDALONE, DOMAIN, MEMBERDB, MEMBERAPP\n#-------------------------------------------------------------------------------\noracle.install.crs.config.ClusterConfiguration=STANDALONE\n\n#-------------------------------------------------------------------------------\n# Specify \"true\" if you would like to configure the cluster as Extended, else\n# specify \"false\"\n#\n# Applicable only for STANDALONE and DOMAIN cluster configuration\n#-------------------------------------------------------------------------------\noracle.install.crs.config.configureAsExtendedCluster=false\n\n\n#-------------------------------------------------------------------------------\n# Specify the Member Cluster Manifest file\n#\n# Applicable only for MEMBERDB and MEMBERAPP cluster configuration\n#-------------------------------------------------------------------------------\noracle.install.crs.config.memberClusterManifestFile=\n\n#-------------------------------------------------------------------------------\n# Specify a name for the Cluster you are creating.\n#\n# The maximum length allowed for clustername is 63 characters. The name can be \n# any combination of lower and uppercase alphabets (A - Z), (0 - 9) and hyphens (-).\n#\n# Applicable only for STANDALONE and DOMAIN cluster configuration\n#-------------------------------------------------------------------------------\noracle.install.crs.config.clusterName=\n\n#-------------------------------------------------------------------------------\n# Applicable only for STANDALONE, DOMAIN, MEMBERDB cluster configuration.\n# Specify \"true\" if you would like to configure Grid Naming Service(GNS), else\n# specify \"false\"\n#-------------------------------------------------------------------------------\noracle.install.crs.config.gpnp.configureGNS=false\n\n#-------------------------------------------------------------------------------\n# Applicable only for STANDALONE and DOMAIN cluster configuration if you choose to configure GNS.\n# Specify \"true\" if you would like to assign SCAN name VIP and Node VIPs by DHCP\n# , else specify \"false\"\n#-------------------------------------------------------------------------------\noracle.install.crs.config.autoConfigureClusterNodeVIP=false\n\n#-------------------------------------------------------------------------------\n# Applicable only if you choose to configure GNS.\n# Specify the type of GNS configuration for cluster\n# Allowed values are: CREATE_NEW_GNS and USE_SHARED_GNS\n# Only USE_SHARED_GNS value is allowed for MEMBERDB cluster configuration.\n#-------------------------------------------------------------------------------\noracle.install.crs.config.gpnp.gnsOption=CREATE_NEW_GNS\n\n#-------------------------------------------------------------------------------\n# Applicable only if SHARED_GNS is being configured for cluster\n# Specify the path to the GNS client data file\n#-------------------------------------------------------------------------------\noracle.install.crs.config.gpnp.gnsClientDataFile=\n\n#-------------------------------------------------------------------------------\n# Applicable only for STANDALONE and DOMAIN cluster configuration if you choose to \n# configure GNS for this cluster oracle.install.crs.config.gpnp.gnsOption=CREATE_NEW_GNS\n# Specify the GNS subdomain and an unused virtual hostname for GNS service\n#-------------------------------------------------------------------------------\noracle.install.crs.config.gpnp.gnsSubDomain=\noracle.install.crs.config.gpnp.gnsVIPAddress=\n\n#-------------------------------------------------------------------------------\n# Specify the list of sites - only if configuring an Extended Cluster\n#-------------------------------------------------------------------------------\noracle.install.crs.config.sites=\n\n#-------------------------------------------------------------------------------\n# Specify the list of nodes that have to be configured to be part of the cluster.\n#\n# The list should a comma-separated list of tuples.  Each tuple should be a\n# colon-separated string that contains\n# - 1 field if you have chosen CRS_SWONLY as installation option, or\n# - 1 field if configuring an Application Cluster, or\n# - 3 fields if configuring a Flex Cluster\n# - 3 fields if adding more nodes to the configured cluster, or\n# - 4 fields if configuring an Extended Cluster\n# \n# The fields should be ordered as follows:\n# 1. The first field should be the public node name.\n# 2. The second field should be the virtual host name\n#    (Should be specified as AUTO if you have chosen \"auto configure for VIP\"\n#     i.e. autoConfigureClusterNodeVIP=true)\n# 3. The third field indicates the site designation for the node. To be specified only if configuring an Extended Cluster.\n# Only the 1st field is applicable if you have chosen CRS_SWONLY as installation option\n# Only the 1st field is applicable if configuring an Application Cluster\n#\n# Examples\n# For registering GI for a cluster software: oracle.install.crs.config.clusterNodes=node1,node2\n# For adding more nodes to the configured cluster: oracle.install.crs.config.clusterNodes=node1:node1-vip,node2:node2-vip\n# For configuring Application Cluster: oracle.install.crs.config.clusterNodes=node1,node2\n# For configuring Flex Cluster: oracle.install.crs.config.clusterNodes=node1:node1-vip,node2:node2-vip\n# For configuring Extended Cluster: oracle.install.crs.config.clusterNodes=node1:node1-vip:site1,node2:node2-vip:site2\n# You can specify a range of nodes in the tuple using colon separated fields of format\n# hostnameprefix:lowerbound-upperbound:hostnamesuffix:vipsuffix:role of node\n#\n#-------------------------------------------------------------------------------\noracle.install.crs.config.clusterNodes=\n\n#-------------------------------------------------------------------------------\n# The value should be a comma separated strings where each string is as shown below\n# InterfaceName:SubnetAddress:InterfaceType\n# where InterfaceType can be either \"1\", \"2\", \"3\", \"4\", or \"5\"\n# InterfaceType stand for the following values\n#   - 1 : PUBLIC\n#   - 2 : PRIVATE\n#   - 3 : DO NOT USE\n#   - 4 : ASM\n#   - 5 : ASM & PRIVATE\n#\n# For example: eth0:140.87.24.0:1,eth1:10.2.1.0:2,eth2:140.87.52.0:3\n#\n#-------------------------------------------------------------------------------\noracle.install.crs.config.networkInterfaceList=\n\n#------------------------------------------------------------------------------\n# Specify \"true\" if you would like to configure Grid Infrastructure Management\n# Repository (GIMR), else specify \"false\".\n# This option is only applicable when CRS_CONFIG is chosen as install option,\n# and STANDALONE is chosen as cluster configuration.\n#------------------------------------------------------------------------------\noracle.install.crs.configureGIMR=false\n\n#------------------------------------------------------------------------------\n# Create a separate ASM DiskGroup to store GIMR data.\n# Specify \"true\" if you would like to separate GIMR data with clusterware data, \n# else specify \"false\"\n# Value should be \"true\" for DOMAIN cluster configurations\n# Value can be true\/false for STANDALONE cluster configurations.\n#------------------------------------------------------------------------------\noracle.install.asm.configureGIMRDataDG=false\n\n################################################################################\n#                                                                              #\n#                              SECTION E - STORAGE                             #\n#                                                                              #\n################################################################################\n\n#-------------------------------------------------------------------------------\n# Specify the type of storage to use for Oracle Cluster Registry(OCR) and Voting\n# Disks files. Only applicable for Standalone and MemberDB cluster.\n#   - FLEX_ASM_STORAGE\n#   - CLIENT_ASM_STORAGE\n#   - FILE_SYSTEM_STORAGE\n#\n# Option FILE_SYSTEM_STORAGE is only for STANDALONE cluster configuration.\n#-------------------------------------------------------------------------------\noracle.install.crs.config.storageOption=\n\n#-------------------------------------------------------------------------------\n# These properties are applicable only if FILE_SYSTEM_STORAGE is chosen for \n# storing OCR and voting disk\n# Specify the location(s) for OCR and voting disks\n# Three(3) or one(1) location(s) should be specified for OCR and voting disk, \n# separated by commas.\n# Example:\n#     For Unix based Operating System:\n#     oracle.install.crs.config.sharedFileSystemStorage.votingDiskLocations=\/oradbocfs\/storage\/vdsk1,\/oradbocfs\/storage\/vdsk2,\/oradbocfs\/storage\/vdsk3\n#     oracle.install.crs.config.sharedFileSystemStorage.ocrLocations=\/oradbocfs\/storage\/ocr1,\/oradbocfs\/storage\/ocr2,\/oradbocfs\/storage\/ocr3\n#     For Windows based Operating System OCR\/VDSK on shared storage is not supported.\n#-------------------------------------------------------------------------------\noracle.install.crs.config.sharedFileSystemStorage.votingDiskLocations=\noracle.install.crs.config.sharedFileSystemStorage.ocrLocations=                   \n################################################################################\n#                                                                              #\n#                               SECTION F - IPMI                               #\n#                                                                              #\n################################################################################\n\n#-------------------------------------------------------------------------------\n# Specify \"true\" if you would like to configure Intelligent Power Management interface\n# (IPMI), else specify \"false\"\n#-------------------------------------------------------------------------------\noracle.install.crs.config.useIPMI=false\n\n#-------------------------------------------------------------------------------\n# Applicable only if you choose to configure IPMI\n# i.e. oracle.install.crs.config.useIPMI=true\n# Specify the username and password for using IPMI service\n#-------------------------------------------------------------------------------\noracle.install.crs.config.ipmi.bmcUsername=\noracle.install.crs.config.ipmi.bmcPassword=\n################################################################################\n#                                                                              #\n#                                SECTION G - ASM                               #\n#                                                                              #\n################################################################################\n\n\n#-------------------------------------------------------------------------------\n# Password for SYS user of Oracle ASM\n#-------------------------------------------------------------------------------\noracle.install.asm.SYSASMPassword=L1gb0w2!8\n\n#-------------------------------------------------------------------------------\n# The ASM DiskGroup\n#\n# Example: oracle.install.asm.diskGroup.name=data\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.name=OCRDG\n\n#-------------------------------------------------------------------------------\n# Redundancy level to be used by ASM.\n# It can be one of the following  \n#   - NORMAL\n#   - HIGH\n#   - EXTERNAL\n#   - FLEX#   - EXTENDED (required if oracle.install.crs.config.ClusterConfiguration=EXTENDED)\n# Example: oracle.install.asm.diskGroup.redundancy=NORMAL\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.redundancy=EXTERNAL\n\n#-------------------------------------------------------------------------------\n# Allocation unit size to be used by ASM.\n# It can be one of the following values\n#   - 1\n#   - 2\n#   - 4\n#   - 8\n#   - 16\n# Example: oracle.install.asm.diskGroup.AUSize=4\n# size unit is MB\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.AUSize=1\n\n#-------------------------------------------------------------------------------\n# Failure Groups for the disk group\n# If configuring for Extended cluster specify as list of \"failure group name:site\"\n# tuples.\n# Else just specify as list of failure group names\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.FailureGroups=\n\n#-------------------------------------------------------------------------------\n# List of disks and their failure groups to create a ASM DiskGroup\n# (Use this if each of the disks have an associated failure group)\n# Failure Groups are not required if oracle.install.asm.diskGroup.redundancy=EXTERNAL\n# Example:\n#     For Unix based Operating System:\n#     oracle.install.asm.diskGroup.disksWithFailureGroupNames=\/oracle\/asm\/disk1,FGName,\/oracle\/asm\/disk2,FGName\n#     For Windows based Operating System:\n#     oracle.install.asm.diskGroup.disksWithFailureGroupNames=\\\\.\\ORCLDISKDATA0,FGName,\\\\.\\ORCLDISKDATA1,FGName\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.disksWithFailureGroupNames=\/dev\/sdd,\n\n#-------------------------------------------------------------------------------\n# List of disks to create a ASM DiskGroup\n# (Use this variable only if failure groups configuration is not required)\n# Example:\n#     For Unix based Operating System:\n#     oracle.install.asm.diskGroup.disks=\/oracle\/asm\/disk1,\/oracle\/asm\/disk2\n#     For Windows based Operating System:\n#     oracle.install.asm.diskGroup.disks=\\\\.\\ORCLDISKDATA0,\\\\.\\ORCLDISKDATA1\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.disks=\/dev\/sdd\n\n#-------------------------------------------------------------------------------\n# List of failure groups to be marked as QUORUM.\n# Quorum failure groups contain only voting disk data, no user data is stored\n# Example:\n#    oracle.install.asm.diskGroup.quorumFailureGroupNames=FGName1,FGName2\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.quorumFailureGroupNames=\n#-------------------------------------------------------------------------------\n# The disk discovery string to be used to discover the disks used create a ASM DiskGroup\n#\n# Example:\n#     For Unix based Operating System:\n#     oracle.install.asm.diskGroup.diskDiscoveryString=\/oracle\/asm\/*\n#     For Windows based Operating System:\n#     oracle.install.asm.diskGroup.diskDiscoveryString=\\\\.\\ORCLDISK*\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.diskGroup.diskDiscoveryString=\/dev\/sd*\n\n#-------------------------------------------------------------------------------\n# Password for ASMSNMP account\n# ASMSNMP account is used by Oracle Enterprise Manager to monitor Oracle ASM instances\n#-------------------------------------------------------------------------------\noracle.install.asm.monitorPassword=Or1Lb28Nut?TH\n\n#-------------------------------------------------------------------------------\n# GIMR Storage data ASM DiskGroup\n# Applicable only when \n# oracle.install.asm.configureGIMRDataDG=true\n# Example: oracle.install.asm.GIMRDG.name=MGMT\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.name=\n\n#-------------------------------------------------------------------------------\n# Redundancy level to be used by ASM.\n# It can be one of the following  \n#   - NORMAL\n#   - HIGH\n#   - EXTERNAL\n#   - FLEX#   - EXTENDED (only if oracle.install.crs.config.ClusterConfiguration=EXTENDED)\n# Example: oracle.install.asm.gimrDG.redundancy=NORMAL\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.redundancy=EXTERNAL\n\n#-------------------------------------------------------------------------------\n# Allocation unit size to be used by ASM.\n# It can be one of the following values\n#   - 1\n#   - 2\n#   - 4\n#   - 8\n#   - 16\n# Example: oracle.install.asm.gimrDG.AUSize=4\n# size unit is MB\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.AUSize=1\n\n#-------------------------------------------------------------------------------\n# Failure Groups for the GIMR storage data ASM disk group\n# If configuring for Extended cluster specify as list of \"failure group name:site\"\n# tuples.\n# Else just specify as list of failure group names\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.FailureGroups=\n\n#-------------------------------------------------------------------------------\n# List of disks and their failure groups to create GIMR data ASM DiskGroup\n# (Use this if each of the disks have an associated failure group)\n# Failure Groups are not required if oracle.install.asm.gimrDG.redundancy=EXTERNAL\n# Example:\n#     For Unix based Operating System:\n#     oracle.install.asm.gimrDG.disksWithFailureGroupNames=\/oracle\/asm\/disk1,FGName,\/oracle\/asm\/disk2,FGName\n#     For Windows based Operating System:\n#     oracle.install.asm.gimrDG.disksWithFailureGroupNames=\\\\.\\ORCLDISKDATA0,FGName,\\\\.\\ORCLDISKDATA1,FGName\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.disksWithFailureGroupNames=\n\n#-------------------------------------------------------------------------------\n# List of disks to create GIMR data ASM DiskGroup\n# (Use this variable only if failure groups configuration is not required)\n# Example:\n#     For Unix based Operating System:\n#     oracle.install.asm.gimrDG.disks=\/oracle\/asm\/disk1,\/oracle\/asm\/disk2\n#     For Windows based Operating System:\n#     oracle.install.asm.gimrDG.disks=\\\\.\\ORCLDISKDATA0,\\\\.\\ORCLDISKDATA1\n#\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.disks=\n\n#-------------------------------------------------------------------------------\n# List of failure groups to be marked as QUORUM.\n# Quorum failure groups contain only voting disk data, no user data is stored\n# Example:\n#    oracle.install.asm.gimrDG.quorumFailureGroupNames=FGName1,FGName2\n#-------------------------------------------------------------------------------\noracle.install.asm.gimrDG.quorumFailureGroupNames=\n\n#-------------------------------------------------------------------------------\n# Configure AFD - ASM Filter Driver\n# Applicable only for FLEX_ASM_STORAGE option\n# Specify \"true\" if you want to configure AFD, else specify \"false\"\n#-------------------------------------------------------------------------------\noracle.install.asm.configureAFD=false\n#-------------------------------------------------------------------------------\n# Configure RHPS - Rapid Home Provisioning Service\n# Applicable only for DOMAIN cluster configuration\n# Specify \"true\" if you want to configure RHP service, else specify \"false\"\n#-------------------------------------------------------------------------------\noracle.install.crs.configureRHPS=false\n\n################################################################################\n#                                                                              #\n#                             SECTION H - UPGRADE                              #\n#                                                                              #\n################################################################################\n#-------------------------------------------------------------------------------\n# Specify whether to ignore down nodes during upgrade operation.\n# Value should be \"true\" to ignore down nodes otherwise specify \"false\"\n#-------------------------------------------------------------------------------\noracle.install.crs.config.ignoreDownNodes=false                   \n################################################################################\n#                                                                              #\n#                               MANAGEMENT OPTIONS                             #\n#                                                                              #\n################################################################################\n\n#-------------------------------------------------------------------------------\n# Specify the management option to use for managing Oracle Grid Infrastructure\n# Options are:\n# 1. CLOUD_CONTROL - If you want to manage your Oracle Grid Infrastructure with Enterprise Manager Cloud Control.\n# 2. NONE   -If you do not want to manage your Oracle Grid Infrastructure with Enterprise Manager Cloud Control.\n#-------------------------------------------------------------------------------\noracle.install.config.managementOption=NONE\n\n#-------------------------------------------------------------------------------\n# Specify the OMS host to connect to Cloud Control.\n# Applicable only when oracle.install.config.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.config.omsHost=\n\n#-------------------------------------------------------------------------------\n# Specify the OMS port to connect to Cloud Control.\n# Applicable only when oracle.install.config.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.config.omsPort=0\n\n#-------------------------------------------------------------------------------\n# Specify the EM Admin user name to use to connect to Cloud Control.\n# Applicable only when oracle.install.config.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.config.emAdminUser=\n\n#-------------------------------------------------------------------------------\n# Specify the EM Admin password to use to connect to Cloud Control.\n# Applicable only when oracle.install.config.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.config.emAdminPassword=\n################################################################################\n#                                                                              #\n#                      Root script execution configuration                     #\n#                                                                              #\n################################################################################\n\n#-------------------------------------------------------------------------------------------------------\n# Specify the root script execution mode.\n#\n#   - true  : To execute the root script automatically by using the appropriate configuration methods.\n#   - false : To execute the root script manually.\n#\n# If this option is selected, password should be specified on the console.\n#-------------------------------------------------------------------------------------------------------\noracle.install.crs.rootconfig.executeRootScript=\n\n#--------------------------------------------------------------------------------------\n# Specify the configuration method to be used for automatic root script execution.\n#\n# Following are the possible choices:\n#   - ROOT\n#   - SUDO\n#--------------------------------------------------------------------------------------\noracle.install.crs.rootconfig.configMethod=SUDO\n#--------------------------------------------------------------------------------------\n# Specify the absolute path of the sudo program.\n#\n# Applicable only when SUDO configuration method was chosen.\n#--------------------------------------------------------------------------------------\noracle.install.crs.rootconfig.sudoPath=\/usr\/bin\/sudo\n\n#--------------------------------------------------------------------------------------\n# Specify the name of the user who is in the sudoers list. \n# Applicable only when SUDO configuration method was chosen.\n# Note:For Grid Infrastructure for Standalone server installations,the sudo user name must be the username of the user performing the installation.\n#--------------------------------------------------------------------------------------\noracle.install.crs.rootconfig.sudoUserName=grid\n#--------------------------------------------------------------------------------------\n# Specify the nodes batch map.\n#\n# This should be a comma separated list of node:batch pairs.\n# During upgrade, you can sequence the automatic execution of root scripts\n# by pooling the nodes into batches. \n# A maximum of three batches can be specified. \n# Installer will execute the root scripts on all the nodes in one batch before\n# proceeding to next batch.\n# Root script execution on the local node must be in Batch 1.\n#\n# Examples: \n# 1. oracle.install.crs.config.batchinfo=Node1:1,Node2:2,Node3:2,Node4:3\n# 2. oracle.install.crs.config.batchinfo=Node1:1,Node2:2,Node3:2,Node4:2\n# 3. oracle.install.crs.config.batchinfo=Node1:1,Node2:1,Node3:2,Node4:3\n#\n# Applicable only for UPGRADE install option. \n#--------------------------------------------------------------------------------------\noracle.install.crs.config.batchinfo=\n################################################################################\n#                                                                              #\n#                           APPLICATION CLUSTER OPTIONS                        #\n#                                                                              #\n################################################################################\n\n#-------------------------------------------------------------------------------\n# Specify the Virtual hostname to configure virtual access for your Application\n# The value to be specified for Virtual hostname is optional.\n#-------------------------------------------------------------------------------\noracle.install.crs.app.applicationAddress=\n#################################################################################\n#                                        #\n#                DELETE NODE OPTIONS                    #\n#                                        #\n#################################################################################\n\n#--------------------------------------------------------------------------------\n# Specify the node names to delete nodes from cluster. \n# Delete node will be performed only for the remote nodes from the cluster.\n#--------------------------------------------------------------------------------\noracle.install.crs.deleteNode.nodes= ' | sudo tee '@@{MyOracleGridHome}@@'\/inventory\/Scripts\/gd.rsp\n\ncd '@@{MyOracleGridHome}@@'\n\n.\/gridSetup.sh -waitforcompletion -silent -responseFile .\/inventory\/Scripts\/gd.rsp\n\nsudo chmod -R 770 \/u01\/app\/oraInventory\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"grid_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"GridLaunchRootScript","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY ORACLE GRID\"\necho \"\"\n\ncd '@@{MyOracleGridHome}@@'\n.\/root.sh\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"c1d2fc39_runbook","main_task_local_reference":{"kind":"app_task","name":"f83ab3cd_dag"},"variable_list":[]},"name":"2_DEPLOY_ORACLE_GRID"},{"description":"Deploy Unattended DBRMS\nMode Oracle Restart","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DeployDbrmsUnattended"},{"kind":"app_task","name":"DbrmsLauchRootScript"},{"kind":"app_task","name":"ChangeRightsDirectory"}],"name":"d8162171_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"DeployDbrmsUnattended"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"DbrmsLauchRootScript"}},{"from_task_reference":{"kind":"app_task","name":"DbrmsLauchRootScript"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ChangeRightsDirectory"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"DeployDbrmsUnattended","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\n\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY ORACLE RDBMS\"\necho \"\"\n\ncd '@@{MyOracleDbrmsHome}@@'\/inventory\/Scripts\necho '\n####################################################################\n## Copyright(c) Oracle Corporation 1998,2019. All rights reserved.##\n##                                                                ##\n## Specify values for the variables listed below to customize     ##\n## your installation.                                             ##\n##                                                                ##\n## Each variable is associated with a comment. The comment        ##\n## can help to populate the variables with the appropriate        ##\n## values.                                                        ##\n##                                                                ##\n## IMPORTANT NOTE: This file contains plain text passwords and    ##\n## should be secured to have read permission only by oracle user  ##\n## or db administrator who owns this installation.                ##\n##                                                                ##\n####################################################################\n\n\n#------------------------------------------------------------------------------\n# Do not change the following system generated value. \n#------------------------------------------------------------------------------\noracle.install.responseFileVersion=\/oracle\/install\/rspfmt_dbinstall_response_schema_v19.0.0\n\n#-------------------------------------------------------------------------------\n# Specify the installation option.\n# It can be one of the following:\n#   - INSTALL_DB_SWONLY\n#   - INSTALL_DB_AND_CONFIG\n#-------------------------------------------------------------------------------\noracle.install.option=INSTALL_DB_SWONLY\n\n#-------------------------------------------------------------------------------\n# Specify the Unix group to be set for the inventory directory.  \n#-------------------------------------------------------------------------------\nUNIX_GROUP_NAME=oinstall\n\n#-------------------------------------------------------------------------------\n# Specify the location which holds the inventory files.\n# This is an optional parameter if installing on\n# Windows based Operating System.\n#-------------------------------------------------------------------------------\nINVENTORY_LOCATION=\/u01\/app\/oraInventory\n#-------------------------------------------------------------------------------\n# Specify the complete path of the Oracle Home. \n#-------------------------------------------------------------------------------\nORACLE_HOME=\/u02\/app\/oracle\/product\/19.0.0\/dbhome_1\n\n#-------------------------------------------------------------------------------\n# Specify the complete path of the Oracle Base. \n#-------------------------------------------------------------------------------\nORACLE_BASE=\/u02\/app\/oracle\n#-------------------------------------------------------------------------------\n# Specify the installation edition of the component.                     \n#                                                             \n# The value should contain only one of these choices.  \n      \n#   - EE     : Enterprise Edition \n                               \n#   - SE2     : Standard Edition 2\n\n\n#-------------------------------------------------------------------------------\n\noracle.install.db.InstallEdition=EE\n###############################################################################\n#                                                                             #\n# PRIVILEGED OPERATING SYSTEM GROUPS                                          #\n# ------------------------------------------                                  #\n# Provide values for the OS groups to which SYSDBA and SYSOPER privileges     #\n# needs to be granted. If the install is being performed as a member of the   #\n# group \"dba\", then that will be used unless specified otherwise below.       #\n#                                                                             #\n# The value to be specified for OSDBA and OSOPER group is only for UNIX based #\n# Operating System.                                                           #\n#                                                                             #\n###############################################################################\n\n#------------------------------------------------------------------------------\n# The OSDBA_GROUP is the OS group which is to be granted SYSDBA privileges.\n#-------------------------------------------------------------------------------\noracle.install.db.OSDBA_GROUP=dba\n\n#------------------------------------------------------------------------------\n# The OSOPER_GROUP is the OS group which is to be granted SYSOPER privileges.\n# The value to be specified for OSOPER group is optional.\n#------------------------------------------------------------------------------\noracle.install.db.OSOPER_GROUP=oper\n\n#------------------------------------------------------------------------------\n# The OSBACKUPDBA_GROUP is the OS group which is to be granted SYSBACKUP privileges.\n#------------------------------------------------------------------------------\noracle.install.db.OSBACKUPDBA_GROUP=backupdba\n\n#------------------------------------------------------------------------------\n# The OSDGDBA_GROUP is the OS group which is to be granted SYSDG privileges.\n#------------------------------------------------------------------------------\noracle.install.db.OSDGDBA_GROUP=dgdba\n\n#------------------------------------------------------------------------------\n# The OSKMDBA_GROUP is the OS group which is to be granted SYSKM privileges.\n#------------------------------------------------------------------------------\noracle.install.db.OSKMDBA_GROUP=kmdba\n\n#------------------------------------------------------------------------------\n# The OSRACDBA_GROUP is the OS group which is to be granted SYSRAC privileges.\n#------------------------------------------------------------------------------\noracle.install.db.OSRACDBA_GROUP=racdba\n################################################################################\n#                                                                              #\n#                      Root script execution configuration                     #\n#                                                                              #\n################################################################################\n\n#-------------------------------------------------------------------------------------------------------\n# Specify the root script execution mode.\n#\n#   - true  : To execute the root script automatically by using the appropriate configuration methods.\n#   - false : To execute the root script manually.\n#\n# If this option is selected, password should be specified on the console.\n#-------------------------------------------------------------------------------------------------------\noracle.install.db.rootconfig.executeRootScript=false\n\n#--------------------------------------------------------------------------------------\n# Specify the configuration method to be used for automatic root script execution.\n#\n# Following are the possible choices:\n#   - ROOT\n#   - SUDO\n#--------------------------------------------------------------------------------------\noracle.install.db.rootconfig.configMethod=ROOT\n#--------------------------------------------------------------------------------------\n# Specify the absolute path of the sudo program.\n#\n# Applicable only when SUDO configuration method was chosen.\n#--------------------------------------------------------------------------------------\noracle.install.db.rootconfig.sudoPath=\n\n#--------------------------------------------------------------------------------------\n# Specify the name of the user who is in the sudoers list. \n# Applicable only when SUDO configuration method was chosen.\n# Note:For Single Instance database installations,the sudo user name must be the username of the user installing the database.\n#--------------------------------------------------------------------------------------\noracle.install.db.rootconfig.sudoUserName=\n\n###############################################################################\n#                                                                             #\n#                               Grid Options                                  #\n#                                                                             #\n###############################################################################\n\n#------------------------------------------------------------------------------\n# Value is required only if the specified install option is INSTALL_DB_SWONLY\n# \n# Specify the cluster node names selected during the installation.\n# \n# Example : oracle.install.db.CLUSTER_NODES=node1,node2\n#------------------------------------------------------------------------------\noracle.install.db.CLUSTER_NODES=\n\n###############################################################################\n#                                                                             #\n#                        Database Configuration Options                       #\n#                                                                             #\n###############################################################################\n\n#-------------------------------------------------------------------------------\n# Specify the type of database to create.\n# It can be one of the following:\n#   - GENERAL_PURPOSE                       \n#   - DATA_WAREHOUSE \n# GENERAL_PURPOSE: A starter database designed for general purpose use or transaction-heavy applications.\n# DATA_WAREHOUSE : A starter database optimized for data warehousing applications.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.type=GENERAL_PURPOSE\n\n#-------------------------------------------------------------------------------\n# Specify the Starter Database Global Database Name. \n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.globalDBName=\n\n#-------------------------------------------------------------------------------\n# Specify the Starter Database SID.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.SID=\n\n#-------------------------------------------------------------------------------\n# Specify whether the database should be configured as a Container database.\n# The value can be either \"true\" or \"false\". If left blank it will be assumed\n# to be \"false\".\n#-------------------------------------------------------------------------------\noracle.install.db.ConfigureAsContainerDB=false\n\n#-------------------------------------------------------------------------------\n# Specify the  Pluggable Database name for the pluggable database in Container Database.\n#-------------------------------------------------------------------------------\noracle.install.db.config.PDBName=\n\n#-------------------------------------------------------------------------------\n# Specify the Starter Database character set.\n#                                               \n#  One of the following\n#  AL32UTF8, WE8ISO8859P15, WE8MSWIN1252, EE8ISO8859P2,\n#  EE8MSWIN1250, NE8ISO8859P10, NEE8ISO8859P4, BLT8MSWIN1257,\n#  BLT8ISO8859P13, CL8ISO8859P5, CL8MSWIN1251, AR8ISO8859P6,\n#  AR8MSWIN1256, EL8ISO8859P7, EL8MSWIN1253, IW8ISO8859P8,\n#  IW8MSWIN1255, JA16EUC, JA16EUCTILDE, JA16SJIS, JA16SJISTILDE,\n#  KO16MSWIN949, ZHS16GBK, TH8TISASCII, ZHT32EUC, ZHT16MSWIN950,\n#  ZHT16HKSCS, WE8ISO8859P9, TR8MSWIN1254, VN8MSWIN1258\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.characterSet=\n\n#------------------------------------------------------------------------------\n# This variable should be set to true if Automatic Memory Management \n# in Database is desired.\n# If Automatic Memory Management is not desired, and memory allocation\n# is to be done manually, then set it to false.\n#------------------------------------------------------------------------------\noracle.install.db.config.starterdb.memoryOption=false\n\n#-------------------------------------------------------------------------------\n# Specify the total memory allocation for the database. Value(in MB) should be\n# at least 256 MB, and should not exceed the total physical memory available \n# on the system.\n# Example: oracle.install.db.config.starterdb.memoryLimit=512\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.memoryLimit=\n\n#-------------------------------------------------------------------------------\n# This variable controls whether to load Example Schemas onto\n# the starter database or not.\n# The value can be either \"true\" or \"false\". If left blank it will be assumed\n# to be \"false\".\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.installExampleSchemas=false\n\n###############################################################################\n#                                                                             #\n# Passwords can be supplied for the following four schemas in the          #\n# starter database:                                    #\n#   SYS                                                                       #\n#   SYSTEM                                                                    #\n#   DBSNMP (used by Enterprise Manager)                                       #\n#                                                                             #\n# Same password can be used for all accounts (not recommended)               #\n# or different passwords for each account can be provided (recommended)       #\n#                                                                             #\n###############################################################################\n\n#------------------------------------------------------------------------------\n# This variable holds the password that is to be used for all schemas in the\n# starter database.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.password.ALL=\n\n#-------------------------------------------------------------------------------\n# Specify the SYS password for the starter database.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.password.SYS=\n\n#-------------------------------------------------------------------------------\n# Specify the SYSTEM password for the starter database.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.password.SYSTEM=\n\n#-------------------------------------------------------------------------------\n# Specify the DBSNMP password for the starter database.\n# Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.password.DBSNMP=\n\n#-------------------------------------------------------------------------------\n# Specify the PDBADMIN password required for creation of Pluggable Database in the Container Database.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.password.PDBADMIN=\n\n#-------------------------------------------------------------------------------\n# Specify the management option to use for managing the database.\n# Options are:\n# 1. CLOUD_CONTROL - If you want to manage your database with Enterprise Manager Cloud Control along with Database Express.\n# 2. DEFAULT   -If you want to manage your database using the default Database Express option.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.managementOption=DEFAULT\n\n#-------------------------------------------------------------------------------\n# Specify the OMS host to connect to Cloud Control.\n# Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.omsHost=\n\n#-------------------------------------------------------------------------------\n# Specify the OMS port to connect to Cloud Control.\n# Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.omsPort=0\n\n#-------------------------------------------------------------------------------\n# Specify the EM Admin user name to use to connect to Cloud Control.\n# Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.emAdminUser=\n\n#-------------------------------------------------------------------------------\n# Specify the EM Admin password to use to connect to Cloud Control.\n# Applicable only when oracle.install.db.config.starterdb.managementOption=CLOUD_CONTROL\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.emAdminPassword=\n\n###############################################################################\n#                                                                             #\n# SPECIFY RECOVERY OPTIONS                                                   #\n# ------------------------------------                                      #\n# Recovery options for the database can be mentioned using the entries below  #\n#                                                                             #\n###############################################################################\n\n#------------------------------------------------------------------------------\n# This variable is to be set to false if database recovery is not required. Else \n# this can be set to true.\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.enableRecovery=false\n\n#-------------------------------------------------------------------------------\n# Specify the type of storage to use for the database.\n# It can be one of the following:\n#   - FILE_SYSTEM_STORAGE\n#   - ASM_STORAGE\n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.storageType=\n\n#-------------------------------------------------------------------------------\n# Specify the database file location which is a directory for datafiles, control\n# files, redo logs.         \n#\n# Applicable only when oracle.install.db.config.starterdb.storage=FILE_SYSTEM_STORAGE \n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.fileSystemStorage.dataLocation=\n\n#-------------------------------------------------------------------------------\n# Specify the recovery location.\n#\n# Applicable only when oracle.install.db.config.starterdb.storage=FILE_SYSTEM_STORAGE \n#-------------------------------------------------------------------------------\noracle.install.db.config.starterdb.fileSystemStorage.recoveryLocation=\n\n#-------------------------------------------------------------------------------\n# Specify the existing ASM disk groups to be used for storage.\n#\n# Applicable only when oracle.install.db.config.starterdb.storageType=ASM_STORAGE\n#-------------------------------------------------------------------------------\noracle.install.db.config.asm.diskGroup=\n\n#-------------------------------------------------------------------------------\n# Specify the password for ASMSNMP user of the ASM instance.                 \n#\n# Applicable only when oracle.install.db.config.starterdb.storage=ASM_STORAGE \n#-------------------------------------------------------------------------------\noracle.install.db.config.asm.ASMSNMPPassword=Or1Lb28Nut?TH ' | sudo tee '@@{MyOracleDbrmsHome}@@'\/inventory\/Scripts\/db.rsp\n\n#sudo chown oracle:oinstall \/home\/oracle\/.bash_profile\ncd '@@{MyOracleDbrmsHome}@@'\n.\/runInstaller -waitforcompletion -silent -responseFile .\/inventory\/Scripts\/db.rsp\nexit\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"oracle_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"DbrmsLauchRootScript","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY ORACLE RDBMS\"\necho \"\"\n\ncd '@@{MyOracleDbrmsHome}@@'\n.\/root.sh\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ChangeRightsDirectory","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY DIRECTORY RIGHTS\"\necho \"\"\n\nfind \/u01 -type d | xargs chmod g+w\nfind \/u02 -type d | xargs chmod g+w\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"00d123f6_runbook","main_task_local_reference":{"kind":"app_task","name":"d8162171_dag"},"variable_list":[]},"name":"3_DEPLOY_DBRMS"},{"description":"Apply Opatch","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ApplyOpatchGridUser"},{"kind":"app_task","name":"ApplyOpatchOracleUser"}],"name":"fd39f7fb_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ApplyOpatchGridUser"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ApplyOpatchOracleUser"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ApplyOpatchGridUser","attrs":{"exit_status":[],"script":"#7 - OracleGridAppPreparation\n#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY AND CONFIGURE ORACLE GRID\"\necho \"\"\n\n#download Oracle Opatch\n\ncd '@@{MyOracleGridHome}@@'\nsudo wget '@@{MyHttpServer}@@'\/opatch\/'@@{MyOpatch}@@'\nsudo rm -rf OPatch\nsudo unzip -q '@@{MyOpatch}@@'\n\nsudo chmod -R 775 '@@{MyOracleGridHome}@@'\/OPatch\nsudo chown -R grid:oinstall '@@{MyOracleGridHome}@@'\/OPatch\nsudo rm '@@{MyOpatch}@@'\n\nls -l '@@{MyOracleGridHome}@@'\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"grid_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ApplyOpatchOracleUser","attrs":{"exit_status":[],"script":"#7 - OracleGridAppPreparation\n#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : OPATCH DEPLOYMENT\"\necho \"\"\n\n#download Oracle Opatch\n\ncd '@@{MyOracleDbrmsHome}@@'\nsudo wget '@@{MyHttpServer}@@'\/'@@{MyOpatch}@@'\nsudo rm -rf OPatch\nsudo unzip -q '@@{MyOpatch}@@'\n\nsudo chmod -R 775 '@@{MyOracleDbrmsHome}@@'\/OPatch\nsudo chown -R oracle:oinstall '@@{MyOracleDbrmsHome}@@'\/OPatch\nsudo rm '@@{MyOpatch}@@'\nls -l '@@{MyOracleDbrmsHome}@@'\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"oracle_user"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"ecb182ee_runbook","main_task_local_reference":{"kind":"app_task","name":"fd39f7fb_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOpatch","value":"p6880880_190000_Linux-x86-64.zip","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]},"name":"4_APPLY_OPATCH"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Task1"}],"name":"e7b6ac57_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Task1","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : DEPLOY AND CONFIGURE ORACLE GRID\"\necho \"\"\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"46c495ca_runbook","main_task_local_reference":{"kind":"app_task","name":"e7b6ac57_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOraclePatchBinaries","value":"p30797938_190000_Linux-x86-64.zip","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]},"name":"5_ApplyPatch"},{"description":"This task is just to help the user to have a direct view on the Oracle and Grid home folder.\nThis can be useful for the registration of the server to ERA.","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PrintOracleAndGridHomePaths"}],"name":"ed374b34_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"PrintOracleAndGridHomePaths","attrs":{"exit_status":[],"script":"#! \/bin\/bash -x\necho \"\"\necho \"ORACLE @@{MyOracleVersion}@@ : PRINT PATHS\"\necho \"\"\necho \"\"\necho \"ORACLE HOME PATH\"\necho '@@{MyOracleDbrmsHome}@@'\necho \"\"\necho \"GRIP HOME PATH\"\necho '@@{MyOracleGridHome}@@'\necho \"\"\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"7bd51058_runbook","main_task_local_reference":{"kind":"app_task","name":"ed374b34_dag"},"variable_list":[]},"name":"EchoOraclePaths"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"EraRegistrationServer"},{"kind":"app_task","name":"EraCreateDatabaseProfile"}],"name":"f686e767_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"EraRegistrationServer"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"EraCreateDatabaseProfile"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"EraRegistrationServer","attrs":{"script":"import requests\n\nurl = \"https:\/\/'@@{MyEraServerIp}@@'\/era\/v0.9\/dbservers\/register\"\n\ndata = '''\n{\n  \"actionArguments\": [\n    {\n      \"name\": \"listener_port\",\n      \"value\": \"1521\"\n    },\n    {\n      \"name\": \"asm_driver\",\n      \"value\": \"None\"\n    },\n    {\n      \"name\": \"oracle_home\",\n      \"value\": \"\/u02\/app\/oracle\/product\/19.0.0\/dbhome_1\"\n    },\n    {\n      \"name\": \"grid_home\",\n      \"value\": \"\/u01\/app\/grid\/19.0.0\/GI_home\"\n    }\n  ],\n  \"vmIp\": \"192.168.1.141\",\n  \"nxClusterUuid\": \"51fcaa7d-1963-46eb-a304-9369670bb504\",\n  \"databaseType\": \"oracle_database\",\n  \"forcedInstall\": true,\n  \"workingDirectory\": \"\/tmp\",\n  \"username\": \"era\",\n  \"password\": \"nutanix4u\",\n  \"eraDeployBase\": \"\/opt\"\n}\n'''\n\nheaders = {\n    'Content-Type': \"application\/json\",\n    'Authorization': \"Basic YWRtaW46d2luZEthd2luZTAyITAz\"\n}\n\nrequests.packages.urllib3.disable_warnings()\nresponse = requests.request(\"POST\", url, data=data, headers=headers, verify=False)\n\nprint(response.status_code)\nprint(response.text)","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"EraCreateDatabaseProfile","attrs":{"script":"ToBeContinued","type":"","command_line_args":"","exit_status":[],"script_type":"static"},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"05a05a3f_runbook","main_task_local_reference":{"kind":"app_task","name":"f686e767_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyEraServerIp","value":"192.168.1.36","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]},"name":"EraRegistration"},{"description":"Configure Time Servers For Customer XX","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScriptNtpDnsCustomisation"}],"name":"b9c84181_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScriptNtpDnsCustomisation","attrs":{"exit_status":[],"script":"sudo rm \/etc\/chrony.conf\n\necho '\n# Use public servers from the pool.ntp.org project.\n# Please consider joining the pool (http:\/\/www.pool.ntp.org\/join.html).\n#Configure Using Calm\nserver @@{SrvNtp1}@@ iburst\nserver @@{SrvNtp2}@@ iburst\n\n\n# Record the rate at which the system clock gains\/losses time.\ndriftfile \/var\/lib\/chrony\/drift\n\n# Allow the system clock to be stepped in the first three updates\n# if its offset is larger than 1 second.\nmakestep 1.0 3\n\n# Enable kernel synchronization of the real-time clock (RTC).\nrtcsync\n\n# Increase the minimum number of selectable sources required to adjust\n# the system clock.\nminsources 2\n\n# Specify directory for log files.\nlogdir \/var\/log\/chrony ' | sudo tee \/etc\/chrony.conf\n\nsudo rm \/etc\/resolv.conf\necho '\n#Configure Using Calm\nsearch @@{DnsSearchList}@@\nnameserver @@{SrvDns1}@@\nnameserver @@{SrvDns2}@@\n' | sudo tee \/etc\/resolv.conf\n\nexit 0","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"91cc2ca3_runbook","main_task_local_reference":{"kind":"app_task","name":"b9c84181_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"DnsSearchList","value":"nutalab.local","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"SrvDns1","value":"10.42.99.51","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"SrvDns2","value":"10.42.47.51","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"SrvNtp1","value":"0.pool.ntp.org","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"SrvNtp2","value":"1.pool.ntp.org","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]},"name":"Replace_Time_and_Dns_Servers"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"CustomerPersonalization"}],"name":"3c026f12_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"CustomerPersonalization","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo mkdir -p \/tools\/add-security\/{bin,etc,log}\nsudo chown -R era:era \/outillage\n\n#Pr\u00e9-requis CACCIA\nsudo yum install -y ksh\nsudo yum install -y sssd\n\necho 'export TMOUT=300' | sudo tee \/etc\/profile.d\/tmout.sh\necho 'setenv TMOUT 300' | sudo tee \/etc\/profile.d\/tmout.csh\n\nexit ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"2a92effb_runbook","main_task_local_reference":{"kind":"app_task","name":"3c026f12_dag"},"variable_list":[]},"name":"CustomerSpecificRequirements"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureNodeExporterSystemUser"},{"kind":"app_task","name":"DeployAndConfigureNodeExporter"},{"kind":"app_task","name":"EnableNodeExporter"}],"name":"5eac93b2_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureNodeExporterSystemUser"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"DeployAndConfigureNodeExporter"}},{"from_task_reference":{"kind":"app_task","name":"DeployAndConfigureNodeExporter"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"EnableNodeExporter"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ConfigureNodeExporterSystemUser","attrs":{"exit_status":[],"script":"#! \/bin\/bash\n\necho \"\"\necho \"Oracle @@{MyOracleVersion}@@ : NODE_EXPORTER_USER_CONFIGURATION\"\necho \"\"\nuseradd -u 1005 -d \/home\/'@@{cred_node_exporter.username}@@' -s \/bin\/bash '@@{cred_node_exporter.username}@@'\necho \"@@{cred_node_exporter.username}@@:@@{cred_node_exporter.secret}@@\" | chpasswd\necho \"#NODE_EXPORTER CONFIG SUDOERS\" >> \/etc\/sudoers\necho \"@@{cred_node_exporter.username}@@  ALL=(ALL) NOPASSWD:ALL\" >> \/etc\/sudoers\n\necho '# .bashrc\n# User specific aliases and functions\nLC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\nexport LC_ALL\nexport LC_CTYPE\nexport PGHOST=localhost\nexport PATH=$PATH:\/usr\/local\/bin:' | sudo tee \/home\/'@@{cred_node_exporter.username}@@'\/.bashrc\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"DeployAndConfigureNodeExporter","attrs":{"exit_status":[],"script":"#! \/bin\/bash\n\nwget https:\/\/github.com\/prometheus\/node_exporter\/releases\/download\/v1.1.2\/node_exporter-1.1.2.linux-amd64.tar.gz\nsudo tar -xzf node_exporter-1.1.2.linux-amd64.tar.gz\nsudo mv node_exporter-1.1.2.linux-amd64\/node_exporter \/usr\/local\/bin\/\n\necho '\n[Unit]\nDescription=Node Exporter\nAfter=network.target\n \n[Service]\nUser=node_exporter\nGroup=node_exporter\nType=simple\nExecStart=\/usr\/local\/bin\/node_exporter\n \n[Install]\nWantedBy=multi-user.target' | sudo tee \/etc\/systemd\/system\/node_exporter.service\n\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"cred_node_exporter"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Oracle19cSiha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"EnableNodeExporter","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo systemctl daemon-reload\nsudo systemctl start node_exporter\nsudo systemctl status node_exporter\nsudo systemctl enable node_exporter\n\nexit","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"os_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"cfc8ecd6_runbook","main_task_local_reference":{"kind":"app_task","name":"5eac93b2_dag"},"variable_list":[]},"name":"InstallAndConfigureNodeExporter"}],"name":"AppOracle19SihaEraBased","restore_config_list":[],"snapshot_config_list":[],"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOracleVersion","value":"19C_SIHA","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyDnsDomain","value":"nutalab.local","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyHttpServer","value":"http:\/\/10.42.47.163\/share\/oracle\/19c","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOracleGridBinaries","value":"V982068-01.zip","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOracleDbrmsBinaries","value":"V982063-01.zip","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOracleDbrmsHome","value":"\/u02\/app\/oracle\/product\/19.0.0\/dbhome_1","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyOracleGridHome","value":"\/u01\/app\/grid\/19.0.0\/GI_home","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"era_PublicKey","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCJl+oqQYv4lx115BOJZhtfhHJ8laHOcjs40XhUEtO6Kfd6qJifl9lLQglqw7awq9WtxpYUvaspxnw6msrBNpzyI0\/u2T2JY5ZEOQ+IK4ERdz+MMGHxUKnZx\/xfF8Zl2Mn0pVojK+BClOqKErqUep20trXfRUET7OHk4ZF8pveuKkvNsfhe4rL2DXdHpo4113ZXV5sLZKfNya1d1nE0hLVSEBPKawD2I7NOvDjbrumFGfzHyl0AHUG+XhJJaIq3fWxO5BFT8TC3wQFZ3+\/SiiC0pDFGv0FHPxeSpZnFLmM6Iw6a+1wrYKSQUsfK8MBLvZMcpeID8mbkmt1UH7dv6evp","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"os_root"},"type":"USER"},"name":"BP_ORA19C_7X_SIHA"},"api_version":"3.0","metadata":{"last_update_time":"1635703956709840","kind":"blueprint","spec_version":0,"creation_time":"1635703956709840","name":"BP_ORA19C_7X_SIHA"}}