{"status":{},"contains_secrets":true,"product_version":"3.3.1","spec":{"description":"","resources":{"endpoints_information":[],"endpoint_definition_list":[],"credential_definition_list":[{"username":"grid","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"kLP7i3CmL3U8fxEAklld6erWZXH9LSEWhmDsaG\/8\/kpcqANCfLA=:utf-8"},"name":"creds_grid","cred_class":"static"},{"username":"oracle","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"ATwaw+h5RRIVxqh3Cc4b0nYbzo1eg9Q\/kvhvM9NGgrquSOqdJGw=:utf-8"},"name":"creds_oracle","cred_class":"static"},{"username":"root","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"DdzeACoCtJPSDrHS\/y984nup+NyjPds863rUnWPofcZeETgy3X71x3O2:utf-8"},"name":"creds_root","cred_class":"static"}],"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ValidateVersion"},{"kind":"app_task","name":"DownloadGridPatch"},{"kind":"app_task","name":"PatchGrid"},{"kind":"app_task","name":"VerifGridPatch"},{"kind":"app_task","name":"Task 5"}],"name":"95569c67_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ValidateVersion"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"DownloadGridPatch"}},{"from_task_reference":{"kind":"app_task","name":"DownloadGridPatch"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"PatchGrid"}},{"from_task_reference":{"kind":"app_task","name":"PatchGrid"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"VerifGridPatch"}},{"from_task_reference":{"kind":"app_task","name":"VerifGridPatch"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Task 5"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_endpoint","name":"m-ora1903-siha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ValidateVersion","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n'@@{GRID_HOME}@@'\/bin\/crsctl query has releaseversion\n\nexit 0","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"creds_grid"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_endpoint","name":"m-ora1903-siha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"DownloadGridPatch","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n#download Oracle Grid Binaries \ncd \/tmp\nmkdir MyGridPatch\n\nif [[ '@@{MyHttpServer}@@' == *https* ]];\nthen\n  echo \"\"\n  echo \"Using https\"\n  echo \"\"\n  wget -no-check-certificate '@@{MyHttpServer}@@'\/patchs\/'@@{MyGridPatch}@@'\nelse\n  echo \"\"\n  echo \"Using http\"\n  echo \"\"\n  wget '@@{MyHttpServer}@@'\/patchs\/'@@{MyGridPatch}@@'\nfi\n\n\nsudo unzip '@@{MyGridPatch}@@' -d MyGridPatch\nchmod -R 775 \/tmp\/MyGridPatch\nchown -R grid:oinstall \/tmp\/MyGridPatch\n\nif [[ '@@{MyHttpServer}@@' == *https* ]];\nthen\n  echo \"\"\n  echo \"Using https\"\n  echo \"\"\n  wget -no-check-certificate '@@{MyHttpServer}@@'\/patchs\/'@@{MyOraclePatch}@@'\nelse\n  echo \"\"\n  echo \"Using http\"\n  echo \"\"\n  wget '@@{MyHttpServer}@@'\/patchs\/'@@{MyOraclePatch}@@'\nfi\n\nchmod -R 775 \/tmp\/MyOraclePatch\nchown -R oracle:oinstall \/tmp\/MyOraclePatch\n\nexit 0","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"creds_root"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_endpoint","name":"m-ora1903-siha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"PatchGrid","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo su -c \"\/u01\/app\/grid\/19.0.0\/GI_home\/OPatch\/opatchauto apply \/tmp\/MyGridPatch\/32545008\"\n\nexit 0","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"creds_grid"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_endpoint","name":"m-ora1903-siha"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"VerifGridPatch","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n.'@@{GRID_HOME}@@'\/bin\/crsctl query has releaseversion\n\nexit 0","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"creds_grid"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Task 5","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nsudo su -c \"\/u01\/app\/grid\/19.0.0\/GI_home\/OPatch\/opatchauto apply \/tmp\/MyOraclePatch\/3254501\"\n\nsudo su -c \"\/u02\/app\/oracle\/product\/19.0.0\/dbhome_1\/OPatch\/opatchauto apply \/tmp\/MyOraclePatch\/32545013\"\n\nexit 0","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"creds_oracle"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"3098b18b_runbook","main_task_local_reference":{"kind":"app_task","name":"95569c67_dag"},"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyDbrmsPatch","value":"p32545013_190000_Linux-x86-64.zip","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyGridPatch","value":"p32545008_190000_Linux-x86-64.zip","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MyHttpServer","value":"http:\/\/10.42.47.163\/share\/oracle\/19c","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"GRID_HOME","value":"\/u01\/app\/grid\/19.0.0\/GI_home","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]},"client_attrs":{},"default_target_reference":{"kind":"app_endpoint","name":"m-ora1903-siha"}},"name":"PatchOracleRestart"},"api_version":"3.0","metadata":{"last_update_time":"1635694734771179","kind":"runbook","spec_version":22,"creation_time":"1635678037234238","name":"PatchOracleRestart"}}